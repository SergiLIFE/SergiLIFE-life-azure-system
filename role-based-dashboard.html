<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L.I.F.E. Platform - Role-Based Dashboard</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            background: linear-gradient(45deg, #fff, #e3f2fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .role-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .role-btn {
            background: linear-gradient(45deg, #2196f3, #21cbf3);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .role-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }
        
        .role-btn.active {
            background: linear-gradient(45deg, #4caf50, #45a049);
            box-shadow: 0 4px 16px rgba(76, 175, 80, 0.4);
        }
        
        .dashboard-content {
            display: none;
        }
        
        .dashboard-content.active {
            display: block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .special-section {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .neuroplasticity-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .neurotransmitter-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid;
        }
        
        .dopamine { border-left-color: #ff6b6b; }
        .serotonin { border-left-color: #4ecdc4; }
        .norepinephrine { border-left-color: #45b7d1; }
        .acetylcholine { border-left-color: #96ceb4; }
        
        .curriculum-progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4caf50, #45a049);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .live-dot {
            width: 10px;
            height: 10px;
            background: #4caf50;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }
        
        .recommendations {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .recommendations ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .recommendations li {
            margin: 8px 0;
            list-style-type: none;
            position: relative;
        }
        
        .recommendations li:before {
            content: "üí°";
            position: absolute;
            left: -25px;
        }
        
        .hidden-venturi {
            display: none !important;
        }
        
        .api-test {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .api-response {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85em;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .error { color: #ff5252; }
        .success { color: #4caf50; }
        
        @media (max-width: 768px) {
            .role-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .neuroplasticity-panel {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>üß† L.I.F.E. Platform</h1>
            <p>Learning Individually from Experience - Role-Based Dashboard</p>
            <p><small>Version 2025.1.0-PRODUCTION | Azure Marketplace Offer ID: 9a600d96-fe1e-420b-902a-a0c42c561adb</small></p>
        </div>
        
        <div class="role-selector">
            <button class="role-btn active" onclick="switchRole('student')">üë®‚Äçüéì Student View</button>
            <button class="role-btn" onclick="switchRole('educator')">üë©‚Äçüè´ Educator View</button>
            <button class="role-btn" onclick="switchRole('researcher')">üî¨ Researcher View</button>
        </div>
        
        <!-- Student Dashboard -->
        <div id="student-dashboard" class="dashboard-content active">
            <div class="live-indicator">
                <div class="live-dot"></div>
                <span>Learning Session Active - Personalized Mode</span>
            </div>
            
            <div class="special-section">
                <h3>üìö Your Learning Journey</h3>
                <div id="student-curriculum" class="curriculum-progress">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="metrics-grid" id="student-metrics">
                <!-- Will be populated by JavaScript -->
            </div>
            
            <div class="special-section">
                <h3>üß† Brain Health & Focus</h3>
                <div id="student-brain-health">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="recommendations" id="student-recommendations">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Educator Dashboard -->
        <div id="educator-dashboard" class="dashboard-content">
            <div class="live-indicator">
                <div class="live-dot"></div>
                <span>Class Monitoring Active - 28 Students Online</span>
            </div>
            
            <div class="special-section">
                <h3>üéì Class Overview & Analytics</h3>
                <div id="educator-class" class="metrics-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="special-section">
                <h3>üß¨ Neuroplasticity & Cognitive Load</h3>
                <div id="educator-neuroplasticity" class="neuroplasticity-panel">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="recommendations" id="educator-recommendations">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Researcher Dashboard -->
        <div id="researcher-dashboard" class="dashboard-content">
            <div class="live-indicator">
                <div class="live-dot"></div>
                <span>Research Data Collection Active - 1,250 Participants</span>
            </div>
            
            <div class="special-section">
                <h3>üî¨ Research Metrics & Statistical Analysis</h3>
                <div id="researcher-metrics" class="metrics-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="special-section">
                <h3>üß† Advanced Neuroplasticity Analysis</h3>
                <div id="researcher-neuroplasticity" class="neuroplasticity-panel">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="special-section">
                <h3>üíä Neurotransmitter Levels & Stress Indicators</h3>
                <div id="researcher-neurotransmitters">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="api-test">
            <h3>üîß API Testing Console</h3>
            <p>Test role-based API endpoints:</p>
            
            <button onclick="testRoleAPI('metrics')">üìä Test Metrics</button>
            <button onclick="testRoleAPI('learning')">üìö Test Learning</button>
            <button onclick="testRoleAPI('neuroplasticity')">üß† Test Neuroplasticity</button>
            <button onclick="clearResponse()">üóëÔ∏è Clear</button>
            
            <div id="apiResponse" class="api-response"></div>
        </div>
    </div>

    <script>
        // Global variables
        let currentRole = 'student';
        const API_BASE_URL = 'http://localhost:7071/api/dashboard';
        
        // Mock data for different roles
        const mockData = {
            student: {
                metrics: {
                    learning_optimization: 87.3,
                    focus_level: 0.84,
                    motivation_index: 0.91,
                    brain_training_score: 789,
                    study_streak: 12,
                    comprehension_rate: 82.3
                },
                curriculum: {
                    name: "Advanced Neural Learning Fundamentals",
                    progress: 67.5,
                    modules_completed: 8,
                    total_modules: 12
                }
            },
            educator: {
                metrics: {
                    total_students: 28,
                    avg_class_progress: 71.2,
                    completion_rate: 0.89,
                    engagement_score: 0.84,
                    struggling_students: 3,
                    advanced_learners: 7
                }
            },
            researcher: {
                metrics: {
                    data_collection_rate: 2847,
                    experiment_success_rate: 0.923,
                    sample_size: 1250,
                    statistical_significance: "p < 0.001",
                    effect_size: 0.78,
                    improvement_factor: 1.24
                }
            }
        };
        
        function switchRole(role) {
            // Update active button
            document.querySelectorAll('.role-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Hide all dashboards
            document.querySelectorAll('.dashboard-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected dashboard
            document.getElementById(`${role}-dashboard`).classList.add('active');
            
            currentRole = role;
            loadRoleData(role);
        }
        
        function loadRoleData(role) {
            switch(role) {
                case 'student':
                    loadStudentData();
                    break;
                case 'educator':
                    loadEducatorData();
                    break;
                case 'researcher':
                    loadResearcherData();
                    break;
            }
        }
        
        function loadStudentData() {
            const data = mockData.student;
            
            // Update curriculum progress
            document.getElementById('student-curriculum').innerHTML = `
                <h4>${data.curriculum.name}</h4>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${data.curriculum.progress}%"></div>
                </div>
                <p>Progress: ${data.curriculum.progress}% (${data.curriculum.modules_completed}/${data.curriculum.total_modules} modules)</p>
                <p>Estimated completion: 3 weeks</p>
            `;
            
            // Update metrics
            document.getElementById('student-metrics').innerHTML = `
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.learning_optimization}%</div>
                    <div class="metric-label">Learning Optimization</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${(data.metrics.focus_level * 100).toFixed(0)}%</div>
                    <div class="metric-label">Focus Level</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${(data.metrics.motivation_index * 100).toFixed(0)}%</div>
                    <div class="metric-label">Motivation Index</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.brain_training_score}</div>
                    <div class="metric-label">Brain Training Score</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.study_streak}</div>
                    <div class="metric-label">Study Streak (days)</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.comprehension_rate}%</div>
                    <div class="metric-label">Comprehension Rate</div>
                </div>
            `;
            
            // Update brain health
            document.getElementById('student-brain-health').innerHTML = `
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">Optimal</div>
                        <div class="metric-label">Cognitive Readiness</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">High</div>
                        <div class="metric-label">Attention Quality</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Active</div>
                        <div class="metric-label">Memory Consolidation</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Enhanced</div>
                        <div class="metric-label">Creative Thinking</div>
                    </div>
                </div>
            `;
            
            // Update recommendations
            document.getElementById('student-recommendations').innerHTML = `
                <h4>üéØ Your Personalized Recommendations</h4>
                <ul>
                    <li>Your brain is in optimal learning state!</li>
                    <li>Take a 5-minute break every 25 minutes</li>
                    <li>Stay hydrated for better focus</li>
                    <li>Practice deep breathing between sessions</li>
                </ul>
            `;
        }
        
        function loadEducatorData() {
            const data = mockData.educator;
            
            // Update class overview
            document.getElementById('educator-class').innerHTML = `
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.total_students}</div>
                    <div class="metric-label">Total Students</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.avg_class_progress}%</div>
                    <div class="metric-label">Average Progress</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${(data.metrics.completion_rate * 100).toFixed(0)}%</div>
                    <div class="metric-label">Completion Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${(data.metrics.engagement_score * 100).toFixed(0)}%</div>
                    <div class="metric-label">Engagement Score</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.struggling_students}</div>
                    <div class="metric-label">Students Needing Help</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.advanced_learners}</div>
                    <div class="metric-label">Advanced Learners</div>
                </div>
            `;
            
            // Update neuroplasticity data
            document.getElementById('educator-neuroplasticity').innerHTML = `
                <div class="neurotransmitter-card dopamine">
                    <h4>üß† Neuroplasticity Index</h4>
                    <p><strong>Synaptic Strength:</strong> 0.847</p>
                    <p><strong>Neural Connectivity:</strong> 91%</p>
                    <p><strong>Adaptation Rate:</strong> 0.034/min</p>
                </div>
                <div class="neurotransmitter-card serotonin">
                    <h4>üìä Cognitive Load Analysis</h4>
                    <p><strong>Working Memory Usage:</strong> 72%</p>
                    <p><strong>Cognitive Efficiency:</strong> 89%</p>
                    <p><strong>Mental Fatigue:</strong> 23%</p>
                </div>
                <div class="neurotransmitter-card norepinephrine">
                    <h4>üí™ Stress Management</h4>
                    <p><strong>Stress Index:</strong> 0.34 (Optimal)</p>
                    <p><strong>Recovery Rate:</strong> 87%</p>
                    <p><strong>Burnout Risk:</strong> Low</p>
                </div>
            `;
            
            // Update recommendations
            document.getElementById('educator-recommendations').innerHTML = `
                <h4>üìö Teaching Insights & Recommendations</h4>
                <ul>
                    <li>Increase visual aids for neural concepts</li>
                    <li>Add more hands-on practice sessions</li>
                    <li>Implement peer learning groups</li>
                    <li>Adjust pacing for complex topics</li>
                </ul>
            `;
        }
        
        function loadResearcherData() {
            const data = mockData.researcher;
            
            // Update research metrics
            document.getElementById('researcher-metrics').innerHTML = `
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.data_collection_rate}</div>
                    <div class="metric-label">Data Points Collected</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${(data.metrics.experiment_success_rate * 100).toFixed(1)}%</div>
                    <div class="metric-label">Experiment Success Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.sample_size}</div>
                    <div class="metric-label">Sample Size</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.statistical_significance}</div>
                    <div class="metric-label">Statistical Significance</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.effect_size}</div>
                    <div class="metric-label">Effect Size</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">${data.metrics.improvement_factor}x</div>
                    <div class="metric-label">Improvement Factor</div>
                </div>
            `;
            
            // Update neuroplasticity analysis
            document.getElementById('researcher-neuroplasticity').innerHTML = `
                <div class="neurotransmitter-card dopamine">
                    <h4>üî¨ Synaptic Analysis</h4>
                    <p><strong>Dendritic Branching:</strong> 1.23</p>
                    <p><strong>Plasticity Index:</strong> 0.78</p>
                    <p><strong>Measurement Precision:</strong> ¬±0.001</p>
                </div>
                <div class="neurotransmitter-card serotonin">
                    <h4>üìà Statistical Power</h4>
                    <p><strong>Confidence Interval:</strong> 95%</p>
                    <p><strong>Statistical Power:</strong> 0.95</p>
                    <p><strong>Sampling Rate:</strong> 1000Hz</p>
                </div>
                <div class="neurotransmitter-card norepinephrine">
                    <h4>üìä Longitudinal Trends</h4>
                    <p><strong>Improvement Over Time:</strong> 0.15</p>
                    <p><strong>Plateau Detection:</strong> Week 8</p>
                    <p><strong>Reproducibility:</strong> 96%</p>
                </div>
            `;
            
            // Update neurotransmitter levels
            document.getElementById('researcher-neurotransmitters').innerHTML = `
                <div class="neuroplasticity-panel">
                    <div class="neurotransmitter-card dopamine">
                        <h4>üß¨ Dopamine Levels</h4>
                        <p><strong>Baseline:</strong> 2.8 ng/mL</p>
                        <p><strong>Peak:</strong> 4.2 ng/mL</p>
                        <p><strong>Motivation Correlation:</strong> 0.89</p>
                        <p><strong>Regulation:</strong> Optimal</p>
                    </div>
                    <div class="neurotransmitter-card serotonin">
                        <h4>üåä Serotonin Activity</h4>
                        <p><strong>Level:</strong> 1.9 ng/mL</p>
                        <p><strong>Mood Stability:</strong> 84%</p>
                        <p><strong>Learning Readiness:</strong> 91%</p>
                    </div>
                    <div class="neurotransmitter-card norepinephrine">
                        <h4>‚ö° Norepinephrine</h4>
                        <p><strong>Concentration:</strong> 0.67 ng/mL</p>
                        <p><strong>Attention Focus:</strong> 93%</p>
                        <p><strong>Stress Response:</strong> Balanced</p>
                    </div>
                    <div class="neurotransmitter-card acetylcholine">
                        <h4>üß† Acetylcholine</h4>
                        <p><strong>Activity:</strong> 1.45 ¬µmol/L</p>
                        <p><strong>Memory Formation:</strong> 88%</p>
                        <p><strong>Cognitive Enhancement:</strong> 76%</p>
                    </div>
                </div>
            `;
        }
        
        async function testRoleAPI(endpoint) {
            const responseDiv = document.getElementById('apiResponse');
            responseDiv.innerHTML = `Testing ${endpoint} endpoint for ${currentRole} role...\n`;
            
            try {
                const url = `${API_BASE_URL}/${endpoint}?role=${currentRole}`;
                const response = await fetch(url);
                
                if (response.ok) {
                    const data = await response.json();
                    responseDiv.innerHTML = `‚úÖ ${endpoint.toUpperCase()} API Response (${currentRole}):\n\n` + JSON.stringify(data, null, 2);
                    responseDiv.className = 'api-response success';
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                responseDiv.innerHTML = `‚ùå API Error for ${endpoint} (${currentRole}):\n\n${error.message}\n\nUsing mock data for demonstration.`;
                responseDiv.className = 'api-response error';
            }
        }
        
        function clearResponse() {
            document.getElementById('apiResponse').innerHTML = '';
        }
        
        // Initialize dashboard
        window.addEventListener('load', () => {
            loadRoleData('student');
            
            // Update every 10 seconds
            setInterval(() => {
                loadRoleData(currentRole);
            }, 10000);
        });
        
        // Add some console info
        console.log('üß† L.I.F.E. Platform Role-Based Dashboard');
        console.log('Version: 2025.1.0-PRODUCTION');
        console.log('Available Roles: Student, Educator, Researcher');
        console.log('Venturi System: Hidden for students, visible for educators/researchers');
    </script>
</body>
</html>