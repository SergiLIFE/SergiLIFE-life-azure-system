name: life-platform
version: 1.0.0

metadata:
  template: python@1.0.0

infra:
  provider: bicep
  path: ./infra

services:
  api:
    project: .
    language: python
    host: containerapp
    
    env:
      - AZURE_TENANT_ID
      - AZURE_SUBSCRIPTION_ID
      - AZURE_CLIENT_ID
      - LIFE_PLATFORM_VERSION=2025.1.0-PRODUCTION
      - AZURE_MARKETPLACE_OFFER_ID=9a600d96-fe1e-420b-902a-a0c42c561adb
      
hooks:
  preprovision:
    shell: pwsh
    run: |
      Write-Host "ðŸ§  Preparing L.I.F.E Platform for Azure deployment..." -ForegroundColor Green
      Write-Host "Offer ID: 9a600d96-fe1e-420b-902a-a0c42c561adb" -ForegroundColor Cyan
      Write-Host "Target Revenue Q4 2025: $345K â†’ $50.7M by 2029" -ForegroundColor Yellow
      
  postprovision:
    shell: pwsh
    run: |
      Write-Host "âœ… L.I.F.E Platform infrastructure provisioned successfully!" -ForegroundColor Green
      Write-Host "ðŸŽ¯ Ready for Azure Marketplace launch on September 27, 2025" -ForegroundColor Cyan
      
  predeploy:
    shell: pwsh
    run: |
      Write-Host "ðŸš€ Deploying L.I.F.E neural processing system..." -ForegroundColor Green
      python -m pip install --upgrade pip
      pip install -r requirements.txt
      
  postdeploy:
    shell: pwsh
    run: |
      Write-Host "ðŸŽ‰ L.I.F.E Platform deployed successfully!" -ForegroundColor Green
      Write-Host "Neural processing system is now active on Azure" -ForegroundColor Cyan
      Write-Host "Enterprise dashboard available at: https://life-platform.azurewebsites.net" -ForegroundColor Yellow
