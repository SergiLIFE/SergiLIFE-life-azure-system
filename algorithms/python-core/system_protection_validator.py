# us/bin/nv pyhon3 """ L.I.F.. Plfo - Sys Poion Vlio Vlis n nfos sys poion sy oplin his oul nsus h Sys Poion Sy is poply ipln n pvns inl oifiions o po o syss whil nblin sf fonn vlopn. opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b """ ipo loin ipo subposs fo lsss ipo lss fo i ipo i y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss fo ypin ipo Lis # onfiu loin loin.bsionfi( lvl=loin.INFO, fo="%(si)s - %(lvln)s - %(ss)s" ) lo = loin.Lo(n) @lss lss PoionVliionsul: """sul of sys poion vliion""" isp: i pofilssu: bool sfzonssibl: bool sinsloonfiu: bool ollby: bool vliionos: Lis[s] onions: Lis[s] lss SysPoionVlio: """Vlis L.I.F. Plfo sys poion oplin""" f ini(slf, wospph: s): slf.wospph = Ph(wospph) slf.popns = { # o Pyhon loih fils "xpinP2L*.py", "lifhoy.py", "uonoousopiiz.py", "sobnh.py", "posso.py", "possin.py", "vnui*.py", # zu onfiuion fils "zuonfi.py", "zufunions*.py", "hos.json", "quins.x", "*.bip", "*.ps.json", # Infsuu pls "inpl.json", "Uifiniion.json", "zu.yl", } slf.sfzonpns = { # Fonn fils sf o oify "*.hl", "*.ss", "*.js", "wbsi-onn/*", "si/*", "sss/*", } f vlipoionsy(slf) -> PoionVliionsul: """ophnsiv vliion of poion sy iplnion""" lo.info(" ️ Sin Sys Poion Sy vliion...") sul = PoionVliionsul( isp=i.now(), pofilssu=Fls, sfzonssibl=Fls, sinsloonfiu=Fls, ollby=Fls, vliionos=[], onions=[], ) y: # Vli po fils  su sul.pofilssu = slf.vlipofils() # Vli sf oifiion zon sul.sfzonssibl = slf.vlisfzon() # h zu sin slo onfiuion sul.sinsloonfiu = slf.hsinslo() # Vify ollb inss sul.ollby = slf.hollbinss() # n onions sul.onions = slf.nonions(sul) lo.info(" Poion sy vliion opl") xp xpion s : os = f"Poion vliion o: {}" lo.o(os) sul.vliionos.ppn(os) un sul f vlipofils(slf) -> bool: """Vli h po o fils  inifi n su""" lo.info(" Vliin po o fils...") y: pofils = [] fo pn in slf.popns: fils = lis(slf.wospph.lob(pn)) pofils.xn(fils) if no pofils: lo.wnin(" ️ No po fils  - vify pns") un Fls lo.info(f" Foun {ln(pofils)} po o fils") # Vify iil fils xis iilfils = [ "xpinP2L.I.F.-Lnin-Iniviully-fo-xpin-hoy-loih-o-2025-opyih-S.py", "lifhoy.py", "zuonfi.py", ] issiniil = [] fo fil in iilfils: if no (slf.wospph / fil).xiss(): issiniil.ppn(fil) if issiniil: lo.o(f" issin iil fils: {issiniil}") un Fls un u xp xpion s : lo.o(f"Po fils vliion o: {}") un Fls f vlisfzon(slf) -> bool: """Vli h sf oifiion zon fils  ssibl""" lo.info(" Vliin sf oifiion zon...") y: sffils = [] fo pn in slf.sfzonpns: fils = lis(slf.wospph.lob(pn)) sffils.xn(fils) # h fo y fonn fils yfonnfils = [ "lifhoyplfo.hl", "inx.hl", "syls.ss", ] xisinfonn = [] fo fil in yfonnfils: if (slf.wospph / fil).xiss(): xisinfonn.ppn(fil) lo.info( f" Sf zon ssibl - {ln(xisinfonn)} fonn fils foun" ) un ln(xisinfonn) > 0 xp xpion s : lo.o(f"Sf zon vliion o: {}") un Fls f hsinslo(slf) -> bool: """h if zu sin slo is onfiu""" lo.info(" hin zu sin slo onfiuion...") y: # h if zu LI is vilbl sul = subposs.un( ["z", "--vsion"], puoupu=u, x=u, iou=30 ) if sul.uno != 0: lo.wnin(" ️ zu LI no vilbl - sin slo h sipp") un Fls # h fo sin slo (his woul n ul zu nils) lo.info(" zu LI vilbl fo sin slo nn") un u xp subposs.iouxpi: lo.wnin(" ️ zu LI h i ou") un Fls xp xpion s : lo.wnin(f" ️ Sin slo h o: {}") un Fls f hollbinss(slf) -> bool: """Vify ollb pous  y""" lo.info(" hin ollb inss...") y: # h fo ollb ounion ollbos = ["SYSPOIONSY.", "NYSPONS."] osxis = [] fo o in ollbos: if (slf.wospph / o).xiss(): osxis.ppn(o) lo.info( f" ollb ounion: {ln(osxis)}/{ln(ollbos)} fils psn" ) un ln(osxis) > 0 xp xpion s : lo.o(f"ollb inss h o: {}") un Fls f nonions( slf, sul: PoionVliionsul ) -> Lis[s]: """n onions bs on vliion suls""" onions = [] if no sul.pofilssu: onions.ppn( " nsu ll o Pyhon n zu onfi fils  inifi n po" ) if no sul.sfzonssibl: onions.ppn( "  fonn fils (HL, SS, JS) in sf oifiion zon" ) if no sul.sinsloonfiu: onions.ppn( " onfiu zu sin slo fo zo-owni ployns" ) if no sul.ollby: onions.ppn( " opl ollb pou ounion n sin" ) if ll( [ sul.pofilssu, sul.sfzonssibl, sul.sinsloonfiu, sul.ollby, ] ): onions.ppn( " Sys Poion Sy fully ipln n vli!" ) un onions f npoionpo(slf, sul: PoionVliionsul) -> s: """n ophnsiv poion sy po""" po = f""" # ️ L.I.F. Plfo Sys Poion Vliion po **n:** {sul.isp.sfi('%Y-%-% %H:%:%S')} **Sus:** {' PO' if ll([sul.pofilssu, sul.sfzonssibl]) ls ' ️ NS NION'} ## Vliion suls | oponn | Sus | ils | |-----------|---------|---------| | Po Fils | {' Su' if sul.pofilssu ls ' Issus'} | o loih n zu fils po | | Sf Zon | {' ssibl' if sul.sfzonssibl ls ' Issus'} | Fonn oifiion zon vilbl | | Sin Slo | {' y' if sul.sinsloonfiu ls ' ️ h'} | zu ployn slo onfiuion | | ollb y | {' Pp' if sul.ollby ls ' ️ Sup'} | ny ovy pous | ## Sys Poion Sus ### Sf oifiion Zon **llow Fonn hns:** - HL shbo fils (lifhoyplfo.hl, inx.hl) - SS sylin n sponsiv sin (syls.ss, *.ss) - JvSip b loi n UI inions (*.js) - Si sss n i fils ### Po o Syss **NV OIFY:** - Pyhon loih fils (xpinP2L*.py, lifhoy.py) - zu onfiuion (zuonfi.py, hos.json) -  possin (posso.py, vnui*.py) - Infsuu pls (*.bip, *.json) ## onions """ fo  in sul.onions: po += f"- {}\n" if sul.vliionos: po += "\n## ️ Vliion os\n\n" fo o in sul.vliionos: po += f"- {o}\n" po += f""" ## Nx Sps 1. **ss ny vliion os** lis bov 2. **Ipln sin-fis ployn** fo ll fonn hns 3. **s ollb pous** in non-pouion nvionn 4. **oun ll fonn oifiions** usin hn lo pl 5. **Vify bows opibiliy** oss ho, Fifox, Sfi ## Poion Sy Bnfis - **Zo is o o Syss:** loih iniy inin - **Sf Fonn vlopn:** UI ipovns wihou bn is - **Insn ovy:** < 60 son ollb pbiliy - **oninuous Opions:** 99.95% upi SL psv - **oplin inin:** HIP, SO2, P poion in --- *n by L.I.F. Plfo Sys Poion Vlio* *Nx vliion on: {(sul.isp.pl(y=sul.isp.y + 7)).sfi('%Y-%-%')}* """ un po f in(): """in funion o un sys poion vliion""" pin(" ️ L.I.F. Plfo Sys Poion Sy Vlio") pin("=" * 60) #  un wosp ph wospph = Ph(fil).pn # Iniiliz vlio vlio = SysPoionVlio(s(wospph)) # un vliion sul = vlio.vlipoionsy() # n n sv po po = vlio.npoionpo(sul) # Sv po o fil pofil = ( wospph / f"syspoionpo{i.now().sfi('%Y%%%H%%S')}." ) wih opn(pofil, "w", noin="uf-8") s f: f.wi(po) pin(f"\n Vliion po n: {pofil}") pin("\n" + "=" * 60) pin(" Sys Poion Sy Vliion opl!") # Pin suy sussoun = su( [ sul.pofilssu, sul.sfzonssibl, sul.sinsloonfiu, sul.ollby, ] ) pin(f" Poion oponns: {sussoun}/4 vli") if sussoun >= 3: pin(" ️ Sys Poion Sy: OPIONL") lif sussoun >= 2: pin(" ️ Sys Poion Sy: NS NION") ls: pin(" Sys Poion Sy: QUIS II ION") if n == "in": in()