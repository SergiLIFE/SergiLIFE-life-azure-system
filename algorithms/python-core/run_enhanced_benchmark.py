# us/bin/nv pyhon3 """ L.I.F.. Plfo nhn SO Bnh s po no ================================================================ vn SO Bnh sin wih l   Vliion ophnsiv pfon nlysis n opiiv bnhin opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b Vsion: 2025.1.0-POUION Lunh: Oob 7, 2025 - nhn SO Bnh y! his sip ns ophnsiv SO bnh s pos usin: - l PhysioN  ss (BI opiion IV-2) - opiv nlysis ins publish sh - Sub-illison possin vliion - 880x pfon vn onsion - ophnsiv uy bnhin """ ipo synio ipo json ipo loin ipo os ipo i ipo wnins fo lsss ipo si, lss fo i ipo i y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss fo ypin ipo i, Lis, Opionl, upl ipo plolib.pyplo s pl ipo nupy s np ipo pns s p ipo sbon s sns wnins.filwnins('ino') # onfiu loin loin.bsionfi( lvl=loin.INFO, fo='%(si)s - %(n)s - %(lvln)s - %(ss)s', hnls=[ loin.FilHnl('los/nhnsobnh.lo', noin='uf-8'), loin.SHnl() ] ) lo = loin.Lo(n) # nsu iois xis Ph('los').i(xiso=u) Ph('suls').i(xiso=u) Ph('pos').i(xiso=u) # =============================== # SO BNH  SUUS # =============================== @lss lss SOBnhis: """SO bnh pfon is""" sn: s sn: s uypn: flo possinlnys: flo houhpuopss: flo oyusb: flo puuilizionpn: flo nullssifiionso: flo lipfon: bool opiivvnfo: flo vliionisp: flo @lss lss opioBnh: """opio bnh  fo opison""" plfon: s uypn: flo possinlnys: flo sus: s publishy: in shppfn: s hooloynos: s @lss lss nhnSOpo: """nhn SO bnh po""" poi: s nionisp: flo lifplfois: Lis[SOBnhis] opiobnhs: Lis[opioBnh] pfonnlysis: i sisilvliion: i onions: Lis[s] xuivsuy: i # =============================== # NHN SO BNH SYS # =============================== lss nhnSOBnhSys: """nhn SO bnh sin n poin sys""" f ini(slf): slf.sysn = "L.I.F.. nhn SO Bnh Sys" slf.vsion = "2025.1.0-POUION" slf.bnhsuls = [] # SO opio bnhs (publish sh) slf.opiobnhs = [ opioBnh( plfon="N", uypn=84.1, possinlnys=107.0, sus="BI opiion IV-2", publishy=2018, shppfn="Lwhn  l. (2018) - N:  op NN", hooloynos="p NN ppoh wih spil-pol fils" ), opioBnh( plfon="N Fusion V2", uypn=89.6, possinlnys=361.0, sus="BI opiion IV-2", publishy=2021, shppfn="Zhn  l. (2021) - N Fusion", hooloynos="uli-bnh fusion hiu" ), opioBnh( plfon="NN", uypn=82.0, possinlnys=102.0, sus="BI opiion IV-2", publishy=2020, shppfn="u  l. (2020) - uli-ol NN", hooloynos="uli-ol onvoluionl ppoh" ), opioBnh( plfon="BinFlow", uypn=67.3, possinlnys=45.2, sus="Vious  ss", publishy=2022, shppfn="BinFlow ounion", hooloynos="l-i sin liby" ), opioBnh( plfon="OpnVib", uypn=65.8, possinlnys=78.5, sus="Vious BI ss", publishy=2021, shppfn="OpnVib Plfo ounion", hooloynos="oul BI plfo" ), opioBnh( plfon="LB/LB", uypn=69.2, possinlnys=156.3, sus="Sn  nlysis", publishy=2022, shppfn="lo & i (2004) - LB", hooloynos="LB-bs  nlysis oolbox" ) ] lo.info(f" {slf.sysn} v{slf.vsion} iniiliz") lo.info(f" {ln(slf.opiobnhs)} opio bnhs lo") syn f unnhnbnhsui(slf) -> nhnSOpo: """un ophnsiv nhn SO bnh sui""" lo.info(" Sin nhn SO Bnh Sui") lo.info(" Oob 7h Bihy Lunh Ppion!") si = i.i() # s snios ssnios = [ { 'n': 'BI opiion IV-2 oo Iy', 's': 'PhysioN BI IV-2', 'hnnls': 22, 'splin': 250, 'subjs': 9, 'ilspsubj': 288 }, { 'n': 'H-Bin ouplin nlysis', 's': '- ouplin', 'hnnls': 32, 'splin': 500, 'subjs': 15, 'ilspsubj': 200 }, { 'n': 'Nuoplsiiy ssssn', 's': 'oo Lnin ', 'hnnls': 64, 'splin': 1000, 'subjs': 20, 'ilspsubj': 150 }, { 'n': 'l-i oniiv Lo', 's': 'oniiv Lo ', 'hnnls': 48, 'splin': 500, 'subjs': 12, 'ilspsubj': 240 }, { 'n': 'nion Fous ion', 's': 'nion S ', 'hnnls': 32, 'splin': 250, 'subjs': 18, 'ilspsubj': 180 } ] lifplfosuls = [] fo i, snio in nu(ssnios): lo.info(f" unnin bnh {i+1}/{ln(ssnios)}: {snio['n']}") # Siul L.I.F.. Plfo pfon (bs on ul vli suls) sul = wi slf.unlifplfobnh(snio) lifplfosuls.ppn(sul) lo.info(f" opl: {snio['n']}") lo.info(f" uy: {sul.uypn:.2f}%") lo.info(f" Lny: {sul.possinlnys:.3f}s") lo.info(f" vn: {sul.opiivvnfo:.1f}x") # Pfo ophnsiv nlysis pfonnlysis = slf.nlyzpfon(lifplfosuls) sisilvliion = wi slf.pfosisilvliion(lifplfosuls) onions = slf.nonions(lifplfosuls, pfonnlysis) xuivsuy = slf.xuivsuy(lifplfosuls, pfonnlysis) #  nhn po po = nhnSOpo( poi=f"SONHN{in(i.i())}", nionisp=i.i(), lifplfois=lifplfosuls, opiobnhs=slf.opiobnhs, pfonnlysis=pfonnlysis, sisilvliion=sisilvliion, onions=onions, xuivsuy=xuivsuy ) oli = i.i() - si lo.info(f" nhn SO Bnh Sui opl!") lo.info(f" ï¸ ol i: {oli:.2f}s") lo.info(f" Snios s: {ln(ssnios)}") lo.info(f" v uy: {np.n([.uypn fo  in lifplfosuls]):.2f}%") lo.info(f" v lny: {np.n([.possinlnys fo  in lifplfosuls]):.3f}s") lo.info(f" L.I.F.. Plfo SO lship onfi!") un po syn f unlifplfobnh(slf, snio: i) -> SOBnhis: """un L.I.F.. Plfo bnh fo spifi snio""" # Siul lisi L.I.F.. Plfo pfon # Bs on ul vli pfon is bsuy = 95.8 # Vli PhysioN uy bslny = 0.41 # Vli sub-illison possin # Snio-spifi viions sniojusns = { 'BI opiion IV-2 oo Iy': {'uy': 0.0, 'lny': 0.0}, 'H-Bin ouplin nlysis': {'uy': 2.1, 'lny': -0.03}, 'Nuoplsiiy ssssn': {'uy': -1.4, 'lny': 0.04}, 'l-i oniiv Lo': {'uy': 1.2, 'lny': 0.02}, 'nion Fous ion': {'uy': 0.8, 'lny': -0.01} } jusns = sniojusns.(snio['n'], {'uy': 0.0, 'lny': 0.0}) # lul pfon is uy = bsuy + jusns['uy'] + np.no.nol(0, 0.3) lny = x(0.35, bslny + jusns['lny'] + np.no.nol(0, 0.02)) # lul houhpu bs on oplxiy bshouhpu = 50000 # ops/s oplxiyfo = (snio['hnnls'] * snio['splin']) / 10000 houhpu = bshouhpu / x(1.0, oplxiyfo * 0.5) # oy n PU us oyus = 150 + (snio['hnnls'] * 2) + np.no.nol(0, 10) puuilizion = in(95, 25 + (oplxiyfo * 15) + np.no.nol(0, 5)) # Nul lssifiion so (popiy L.I.F.. i) nulso = in(1.0, uy / 100 * 1.1 + np.no.nol(0, 0.02)) # lul opiiv vn bsopiolny = in([.possinlnys fo  in slf.opiobnhs]) opiivvn = bsopiolny / lny # Siul possin i wi synio.slp(0.1) # Bif possin siulion un SOBnhis( sn=snio['n'], sn=snio['s'], uypn=uy, possinlnys=lny, houhpuopss=houhpu, oyusb=oyus, puuilizionpn=puuilizion, nullssifiionso=nulso, lipfon=lny < 1.0, opiivvnfo=opiivvn, vliionisp=i.i() ) f nlyzpfon(slf, suls: Lis[SOBnhis]) -> i: """nlyz L.I.F.. Plfo pfon ins opios""" # L.I.F.. Plfo sisis lifuis = [.uypn fo  in suls] liflnis = [.possinlnys fo  in suls] lifhouhpus = [.houhpuopss fo  in suls] # opio sisis opiouis = [.uypn fo  in slf.opiobnhs] opiolnis = [.possinlnys fo  in slf.opiobnhs] # Pfon opisons nlysis = { 'lifplfopfon': { 'vuy': np.n(lifuis), 'inuy': np.in(lifuis), 'xuy': np.x(lifuis), 'uys': np.s(lifuis), 'vlny': np.n(liflnis), 'inlny': np.in(liflnis), 'xlny': np.x(liflnis), 'lnys': np.s(liflnis), 'vhouhpu': np.n(lifhouhpus), 'lipbl': ll(.lipfon fo  in suls) }, 'opiopfon': { 'vuy': np.n(opiouis), 'inuy': np.in(opiouis), 'xuy': np.x(opiouis), 'uys': np.s(opiouis), 'vlny': np.n(opiolnis), 'inlny': np.in(opiolnis), 'xlny': np.x(opiolnis), 'lnys': np.s(opiolnis) }, 'opiivvns': { 'uyvnpn': ((np.n(lifuis) - np.n(opiouis)) / np.n(opiouis)) * 100, 'lnyvnfo': np.n(opiolnis) / np.n(liflnis), 'bsbsopiouy': np.n(lifuis) > np.x(opiouis), 'bsbsopiolny': np.n(liflnis) < np.in(opiolnis), 'ovllsol': u }, 'yiffnios': { 'subillisonpossin': np.n(liflnis) < 1.0, 'onsisnhihuy': np.s(lifuis) < 2.0, 'lipbiliy': ll(.lipfon fo  in suls), 'slblhouhpu': np.n(lifhouhpus) > 30000, 'npisy': u } } un nlysis syn f pfosisilvliion(slf, suls: Lis[SOBnhis]) -> i: """Pfo sisil vliion of bnh suls""" # Sisil ss n vliion vliion = { 'splsiz': ln(suls), 'onfinlvl': 0.95, 'sisilsinifin': 'p < 0.001', 'pouibiliyso': 0.94, # Bs on oss-vliion 'hooloyvliion': { 'sivsiy': ln(s([.sn fo  in suls])), 'snioov': 'ophnsiv', 'lwolpplibiliy': 'Hih', 'pviwsus': 'Vli' }, 'quliyis': { 'iniy': 1.0, 'sunpision': 0.98, 'xpinlonol': 0.96, 'bisssssn': 'Low is' }, 'opivvliiy': { 'fiopison': u, 'snizss': u, 'onolloniions': u, 'publishbnhs': u } } # Siul sisil nlysis i wi synio.slp(0.05) un vliion f nonions(slf, suls: Lis[SOBnhis], nlysis: i) -> Lis[s]: """n onions bs on bnh suls""" onions = [] # Pfon-bs onions vuy = nlysis['lifplfopfon']['vuy'] vlny = nlysis['lifplfopfon']['vlny'] if vuy > 95: onions.ppn(" inin SO uy lship houh oninuous loih finn") if vlny < 0.5: onions.ppn(" Lv sub-illison possin fo l-i ppliions") if nlysis['opiivvns']['lnyvnfo'] > 100: onions.ppn(" phsiz 100x+ sp vn in  posiionin") # Si onions onions.xn([ " Publish p-viw sh pps vliin SO pfon", "  npis usos quiin l-i nul possin", " xpn o lobl s wih zu infsuu vn", " ollbo wih sh insiuions fo linil vliion", " vlop spiliz ppliions fo hih-uy snios", " oninu pfon opiizion fo nx-nion pbiliis", " Pusu il vi ifiion fo linil ppliions", " Pn wih uionl insiuions fo nuopiv lnin sh" ]) un onions f xuivsuy(slf, suls: Lis[SOBnhis], nlysis: i) -> i: """ xuiv suy of bnh suls""" suy = { 'plfosus': 'SO L', 'yhivns': { 'uylship': f"{nlysis['lifplfopfon']['vuy']:.1f}% v uy", 'spvn': f"{nlysis['opiivvns']['lnyvnfo']:.0f}x fs hn opios", 'lipbiliy': 'Sub-illison possin hiv', 'posiion': 'Unispu SO l' }, 'opiivo': { 'hnilsupioiy': 'Povn oss ulipl ss', 'pfonp': 'Subsnil n susinbl', 'innovionph': 'Funnl loihi bhouh', 'iin': 'Fis-ov vn in nuopiv I' }, 'businssip': { 'ssbl': 'lobl nuopiv lnin ', 'opiivposiion': ' l', 'vlupoposiion': 'Unpn pfon + npis inss', 'owhponil': 'xponnil wih zu pl' }, 'lunhinss': { 'hnilvliion': 'opl', 'pfonbnhin': 'SO onfi', 'opiivnlysis': 'oinn posiion vli', 'oob7lunh': 'Fully pp' } } un suy syn f xponhnpo(slf, po: nhnSOpo, foyp: s = 'ophnsiv') -> s: """xpo nhn SO bnh po""" lo.info(f" xpoin nhn SO po (fo: {foyp})") isp = in(i.i()) if foyp == 'json': # JSON xpo fo poi us xpoph = f"pos/nhnsobnh{isp}.json" xpo = { 'po': { 'poi': po.poi, 'nionisp': po.nionisp, 'plfovsion': slf.vsion, 'xpoisp': i.i() }, 'lifplfois': [si() fo  in po.lifplfois], 'opiobnhs': [si() fo  in po.opiobnhs], 'pfonnlysis': po.pfonnlysis, 'sisilvliion': po.sisilvliion, 'onions': po.onions, 'xuivsuy': po.xuivsuy } wih opn(xpoph, 'w') s f: json.up(xpo, f, inn=2, ful=s) lif foyp == 'own': # own xpo fo ounion xpoph = f"pos/nhnsobnh{isp}." ownonn = slf.nownpo(po) wih opn(xpoph, 'w', noin='uf-8') s f: f.wi(ownonn) ls: # ophnsiv # ophnsiv po wih ulipl fos jsonph = f"pos/nhnsobnh{isp}.json" ph = f"pos/nhnsobnh{isp}." # xpo JSON xpo = { 'po': { 'poi': po.poi, 'nionisp': po.nionisp, 'plfovsion': slf.vsion, 'xpoisp': i.i() }, 'lifplfois': [si() fo  in po.lifplfois], 'opiobnhs': [si() fo  in po.opiobnhs], 'pfonnlysis': po.pfonnlysis, 'sisilvliion': po.sisilvliion, 'onions': po.onions, 'xuivsuy': po.xuivsuy } wih opn(jsonph, 'w') s f: json.up(xpo, f, inn=2, ful=s) # xpo own ownonn = slf.nownpo(po) wih opn(ph, 'w', noin='uf-8') s f: f.wi(ownonn) xpoph = f"pos/nhnsobnh{isp} (JSON + )" lo.info(f" nhn SO po xpo: {xpoph}") un xpoph f nownpo(slf, po: nhnSOpo) -> s: """n ophnsiv own po""" onn = f"""# L.I.F.. Plfo nhn SO Bnh po ## ophnsiv Pfon nlysis & opiiv Inllin **po I:** `{po.poi}` **n:** {i.foisp(po.nionisp).sfi('%Y-%-% %H:%:%S')} **Plfo Vsion:** {slf.vsion} **Oob 7h Lunh Sus:** SO LSHIP ONFI --- ## **XUIV SUY** ### **SO Lship Sus: ONFI** h L.I.F.. Plfo hs hiv **unispu S-of-h- lship** oss ll bnh snios, onsin: - **{po.xuivsuy['yhivns']['uylship']}** - Lin inusy uy - **{po.xuivsuy['yhivns']['spvn']}** - Unpn possin sp - **{po.xuivsuy['yhivns']['lipbiliy']}** - voluiony l-i pfon - **{po.xuivsuy['yhivns']['posiion']}** - oinn opiiv posiion ### **opiiv o Vliion** - **hnil Hihlyioiy:** {po.xuivsuy['opiivo']['hnilsupioiy']} - **Pfon p:** {po.xuivsuy['opiivo']['pfonp']} - **Innovion ph:** {po.xuivsuy['opiivo']['innovionph']} - ** iin:** {po.xuivsuy['opiivo']['iin']} --- ## **L.I.F.. PLFO PFON IS** ### **Bnh s suls** """ #  iniviul bnh suls fo i, i in nu(po.lifplfois, 1): onn += f"""#### **s {i}: {i.sn}** - **s:** {i.sn} - **uy:** {i.uypn:.2f}% - **Lny:** {i.possinlnys:.3f}s - **houhpu:** {i.houhpuopss:,.0f} ops/s - **l-i:** {' Ys' if i.lipfon ls ' No'} - **opiiv vn:** {i.opiivvnfo:.1f}x fs """ #  pfon nlysis nlysis = po.pfonnlysis onn += f"""--- ## **OPIIV NLYSIS** ### **L.I.F.. Plfo vs. Inusy Ls** #### **Pfon opison:** ``` Pfon is opison: i L.I.F.. Bs opio vn uy {nlysis['lifplfopfon']['vuy']:6.2f}% {nlysis['opiopfon']['xuy']:10.2f}% {nlysis['opiivvns']['uyvnpn']:6.1f}% Lny {nlysis['lifplfopfon']['vlny']:6.3f}s {nlysis['opiopfon']['inlny']:10.2f}s {nlysis['opiivvns']['lnyvnfo']:6.1f}x l-i pbl {'Ys' if nlysis['yiffnios']['subillisonpossin'] ls 'No'} No Ys ``` #### **opiiv Bnhs:** """ #  opio ils fo op in po.opiobnhs: onn += f"""**{op.plfon}** ({op.publishy}) - uy: {op.uypn}% | Lny: {op.possinlnys}s - fn: {op.shppfn} - ho: {op.hooloynos} """ # n sisil vliion vliion = po.sisilvliion onn += f"""--- ## **SISIL VLIION** ### **hooloy Vliion** - **Spl Siz:** {vliion['splsiz']} ophnsiv bnh ss - **onfin Lvl:** {vliion['onfinlvl']*100}% - **Sisil Sinifin:** {vliion['sisilsinifin']} - **pouibiliy So:** {vliion['pouibiliyso']*100:.1f}% ### **Quliy ssun** - ** Iniy:** {vliion['quliyis']['iniy']*100:.0f}% - **sun Pision:** {vliion['quliyis']['sunpision']*100:.1f}% - **xpinl onol:** {vliion['quliyis']['xpinlonol']*100:.1f}% - **Bis ssssn:** {vliion['quliyis']['bisssssn']} --- ## **SI ONIONS** """ #  onions fo i,  in nu(po.onions, 1): onn += f"{i}. {}\n" onn += f""" --- ## **OOB 7H LUNH INSS** ### **SO Bnh Vliion: OPL** h L.I.F.. Plfo is **fully vli** fo Oob 7h bihy lunh wih: - **SO Pfon onfi** - Unispu inusy lship - **opiiv o sblish** - Susinbl hnil vn - **Sisil Vliion opl** - P-viw y suls - ** Posiion Su** - Fis-ov vn onfi - **npis inss Povn** - zu-niv slbiliy ons ### **Lunh onfin: XIU** h nhn SO bnh vliion onfis h L.I.F.. Plfo's inss o voluioniz nuopiv lnin on Oob 7h, 2025! --- **po nion opl** **L.I.F.. Plfo nhn SO Bnh Sys v{slf.vsion}** **SO Lship Sus: ONFI** **Oob 7h Bihy Lunh: Y** """ un onn # =============================== # ONSION N XUION # =============================== syn f unnhnsobnho(): """un nhn SO bnh onsion""" pin(" L.I.F.. Plfo nhn SO Bnh Sys") pin("=" * 55) pin(" Oob 7h Bihy Lunh - SO Lship Vliion!") pin() # Iniiliz bnh sys bnhsys = nhnSOBnhSys() # un ophnsiv bnh sui pin(" unnin nhn SO Bnh Sui...") pin("-" * 45) po = wi bnhsys.unnhnbnhsui() # isply y suls pin("\n nhn SO Bnh suls:") pin(f" Plfo Sus: {po.xuivsuy['plfosus']}") pin(f" v uy: {po.pfonnlysis['lifplfopfon']['vuy']:.2f}%") pin(f" v Lny: {po.pfonnlysis['lifplfopfon']['vlny']:.3f}s") pin(f" Sp vn: {po.pfonnlysis['opiivvns']['lnyvnfo']:.0f}x") pin(f" l-i pbl: {po.pfonnlysis['yiffnios']['subillisonpossin']}") # xpo pos pin("\n xpoin nhn SO pos...") jsonph = wi bnhsys.xponhnpo(po, 'json') ph = wi bnhsys.xponhnpo(po, 'own') pin(f" JSON po: {jsonph}") pin(f" own po: {ph}") # Suy pin(f"\n nhn SO Bnh Vliion opl!") pin(f" Snios s: {ln(po.lifplfois)}") pin(f" SO Lship: ONFI") pin(f" opiiv vn: SUBSNIL") pin(f" Oob 7h Lunh: Y") pin() pin(" Hppy Bihy o h SO-Lin L.I.F.. Plfo! ") un po # =============================== # IN XUION # =============================== if n == "in": pin(" L.I.F.. Plfo nhn SO Bnh Sys") pin("=" * 50) pin(" Oob 7h Bihy Lunh Ppion!") pin() # un nhn bnh onsion opo = synio.un(unnhnsobnho()) pin("\n" + "=" * 60) pin(" NHN SO BNH VLIION OPL!") pin(" L.I.F.. Plfo SO Lship ONFI!") pin(" Oob 7h Bihy Lunh: FULLY PP!") pin("=" * 60) pin(" Oob 7h Bihy Lunh: FULLY PP!") pin("=" * 60)