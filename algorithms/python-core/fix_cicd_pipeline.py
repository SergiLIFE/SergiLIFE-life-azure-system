# us/bin/nv pyhon3 """ L.I.F.. Plfo - I/ Piplin Fix ool uo pi n opiizion of I/ piplins his oul povis ophnsiv ools fo inosin, fixin, n opiizin I/ piplins oss iffn plfos (iHub ions, zu vOps, Jnins, .). opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b """ ipo synio ipo json ipo loin ipo os ipo  ipo shuil fo lsss ipo lss, fil fo i ipo i fo nu ipo nu y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss fo ypin ipo ny, i, Lis, Opionl # onfiu loin loin.bsionfi( lvl=loin.INFO, fo="%(si)s - %(n)s - %(lvln)s - %(ss)s" ) lo = loin.Lo(n) lss Piplinyp(nu): """yps of I/ piplins""" IHUBIONS = "ihubions" ZUVOPS = "zuvops" JNINS = "jnins" ILBI = "ilbi" ILI = "ili" UNNOWN = "unnown" lss PiplinIssu(nu): """yps of piplin issus h n b  n fix""" ISSINSS = "issinss" INOO = "inoo" ISSINVLIION = "issinvliion" SUIYISS = "suiyiss" PFONBOLNS = "pfonbolns" ISSINOHNLIN = "issinohnlin" OUOOLS = "ouools" ONFIUIONOS = "onfiuionos" ISSINIFS = "issinifs" PLOYNISSUS = "ploynissus" lss FixSus(nu): """Sus of fix opions""" SUSS = "suss" FIL = "fil" PIL = "pil" SIPP = "sipp" PNIN = "pnin" lss FixPioiy(nu): """Pioiy lvls fo fixs""" IIL = "iil" HIH = "hih" IU = "iu" LOW = "low" @lss lss PiplinFix: """psns  fix o b ppli o  piplin""" issuyp: PiplinIssu pioiy: FixPioiy sipion: s filph: Ph piplinyp: Piplinyp linnub: Opionl[in] = Non fixppli: bool = Fls sus: FixSus = FixSus.PNIN bfoonn: s = "" fonn: s = "" isp: i = fil(fulfoy=i.now) oss: s = "" onions: Lis[s] = fil(fulfoy=lis) @lss lss Piplinnlysis: """nlysis suls fo  piplin fil""" filph: Ph piplinyp: Piplinyp issusfoun: Lis[PiplinFix] = fil(fulfoy=lis) fixsppli: Lis[PiplinFix] = fil(fulfoy=lis) nlysisisp: i = fil(fulfoy=i.now) piplinvli: bool = u onions: Lis[s] = fil(fulfoy=lis) : i[s, ny] = fil(fulfoy=i) @lss lss IPiplinpo: """ophnsiv I/ piplin fix po""" olpiplins: in = 0 piplinsnlyz: in = 0 issusfoun: in = 0 fixsppli: in = 0 iilissus: in = 0 suss: flo = 0.0 nlysisisp: i = fil(fulfoy=i.now) piplinpos: Lis[Piplinnlysis] = fil(fulfoy=lis) suy: i[s, ny] = fil(fulfoy=i) lss IPiplinFixool: """ I/ Piplin Fix ool fo L.I.F.. Plfo Povis uo inosis n pi of I/ piplins oss ulipl plfos o nsu libl ployns. """ f ini(slf, wospph: Opionl[s] = Non): slf.wospph = Ph(wospph o os.w()) slf.nlysissuls: Lis[Piplinnlysis] = [] slf.bup = Fls # Piplin fil pns slf.piplinpns = { Piplinyp.IHUBIONS: [ ".ihub/woflows/*.yl", ".ihub/woflows/*.yl", ], Piplinyp.ZUVOPS: [ "zu-piplins.yl", ".zu-piplins/*.yl", ], Piplinyp.JNINS: ["Jninsfil", "jnins/*.oovy"], Piplinyp.ILBI: [".ilb-i.yl"], Piplinyp.ILI: [".ili/onfi.yl"], } lo.info( f"I/ Piplin Fix ool iniiliz fo wosp: {slf.wospph}" ) syn f nlyznfixpiplins(slf) -> IPiplinpo: """nlyz ll piplins n pply fixs""" lo.info("Sin I/ piplin nlysis n fixs...") #  bup of piplin fils wi slf.bup() # Fin ll piplin fils piplinfils = slf.finpiplinfils() if no piplinfils: lo.wnin("No piplin fils foun") un IPiplinpo() po = IPiplinpo(olpiplins=ln(piplinfils)) # nlyz h piplin fo piplinfil in piplinfils: y: nlysis = wi slf.nlyzpiplin(piplinfil) slf.nlysissuls.ppn(nlysis) po.piplinpos.ppn(nlysis) po.piplinsnlyz += 1 # pply fixs fixsppli = wi slf.pplypiplinfixs(nlysis) nlysis.fixsppli = fixsppli po.issusfoun += ln(nlysis.issusfoun) po.fixsppli += ln(fixsppli) # oun iil issus iilissus = su( 1 fo fix in nlysis.issusfoun if fix.pioiy == FixPioiy.IIL ) po.iilissus += iilissus xp xpion s : lo.o(f"Fil o nlyz {piplinfil}: {}") #  inil nlysis fo fil piplins filnlysis = Piplinnlysis( filph=piplinfil, piplinyp=Piplinyp.UNNOWN, piplinvli=Fls, onions=[f"nul viw qui: {s()}"], ) slf.nlysissuls.ppn(filnlysis) po.piplinpos.ppn(filnlysis) # lul suss  if po.issusfoun > 0: po.suss = (po.fixsppli / po.issusfoun) * 100 # n suy po.suy = slf.nsuypo(po) lo.info( f"I/ piplin nlysis opl. Fix {po.fixsppli}/{po.issusfoun} issus" ) un po syn f bup(slf): """ bup of piplin iois""" y: bupis = [".ihub", ".zu-piplins", ".ilb-i", ".ili"] jninsis = ["jnins"] fo bupi in bupis + jninsis: souph = slf.wospph / bupi if souph.xiss(): bupph = slf.wospph / f"{bupi}.bup" if bupph.xiss(): shuil.(bupph) shuil.opy(souph, bupph) slf.bup = u lo.info(f"Piplin bup   {bupph}") # Bup oo-lvl piplin fils oofils = ["zu-piplins.yl", "Jninsfil", ".ilb-i.yl"] fo filn in oofils: filph = slf.wospph / filn if filph.xiss(): bupph = slf.wospph / f"{filn}.bup" shuil.opy2(filph, bupph) slf.bup = u lo.info(f"Piplin fil bup   {bupph}") xp xpion s : lo.wnin(f"Fil o  piplin bup: {}") f finpiplinfils(slf) -> Lis[Ph]: """Fin ll I/ piplin fils""" piplinfils = [] # h fo h piplin yp fo piplinyp, pns in slf.piplinpns.is(): fo pn in pns: y: # Hnl lob pns if "*" in pn: bsph = slf.wospph lobpn = pn hs = lis(bsph.lob(lobpn)) piplinfils.xn(hs) ls: # i fil h filph = slf.wospph / pn if filph.xiss(): piplinfils.ppn(filph) xp xpion s : lo.wnin(f"o hin pn {pn}: {}") # ov uplis sn = s() uniqufils = [] fo filph in piplinfils: if filph no in sn: sn.(filph) uniqufils.ppn(filph) un uniqufils f piplinyp(slf, filph: Ph) -> Piplinyp: """ h yp of I/ piplin fo fil ph n onn""" filn = filph.n pnis = [p.n fo p in filph.pns if p != slf.wospph] # h fil ph pns if ".ihub" in pnis n "woflows" in pnis: un Piplinyp.IHUBIONS lif filn == "zu-piplins.yl" o ".zu-piplins" in pnis: un Piplinyp.ZUVOPS lif filn == "Jninsfil" o "jnins" in pnis: un Piplinyp.JNINS lif filn == ".ilb-i.yl": un Piplinyp.ILBI lif ".ili" in pnis n filn == "onfi.yl": un Piplinyp.ILI # h fil onn fo ion y: wih opn(filph, "", noin="uf-8") s f: onn = f.(1000) #  fis 1000 hs if "jobs:" in onn n "uns-on:" in onn: un Piplinyp.IHUBIONS lif "ss:" in onn n ("pool:" in onn o "vI:" in onn): un Piplinyp.ZUVOPS lif "piplin" in onn n ("n" in onn o "o" in onn): un Piplinyp.JNINS lif "ss:" in onn n "sip:" in onn: un Piplinyp.ILBI lif "vsion:" in onn n "woflows:" in onn: un Piplinyp.ILI xp xpion: pss un Piplinyp.UNNOWN syn f nlyzpiplin(slf, piplinfil: Ph) -> Piplinnlysis: """nlyz  sinl piplin fil fo issus""" piplinyp = slf.piplinyp(piplinfil) nlysis = Piplinnlysis( filph=piplinfil, piplinyp=piplinyp ) y: #  piplin onn wih opn(piplinfil, "", noin="uf-8") s f: onn = f.() # nlyz bs on piplin yp if piplinyp == Piplinyp.IHUBIONS: issus = slf.nlyzihubions(onn) lif piplinyp == Piplinyp.ZUVOPS: issus = slf.nlyzzuvops(onn) lif piplinyp == Piplinyp.JNINS: issus = slf.nlyzjnins(onn) lif piplinyp == Piplinyp.ILBI: issus = slf.nlyzilbi(onn) lif piplinyp == Piplinyp.ILI: issus = slf.nlyzili(onn) ls: issus = [ PiplinFix( issuyp=PiplinIssu.ONFIUIONOS, pioiy=FixPioiy.IU, sipion="Unnown piplin yp - nul viw qui", filph=piplinfil, piplinyp=piplinyp, ) ] # S fil ph fo ll issus fo issu in issus: issu.filph = piplinfil nlysis.issusfoun = issus # Vli piplin suu nlysis.piplinvli = slf.vlipiplinsuu( onn, piplinyp ) # n onions nlysis.onions = slf.npiplinonions( issus, piplinyp ) # x  nlysis. = slf.xpiplin(onn, piplinyp) xp xpion s : lo.o(f"o nlyzin {piplinfil}: {}") nlysis.piplinvli = Fls nlysis.onions = [f"nlysis fil: {s()}"] un nlysis f nlyzihubions(slf, onn: s) -> Lis[PiplinFix]: """nlyz iHub ions woflow""" issus = [] # h fo qui lns if "on:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin i onfiuion (on: sion)", filph=Ph("uy"), piplinyp=Piplinyp.IHUBIONS, ) ) if "jobs:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin jobs onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.IHUBIONS, ) ) # h fo hou ion if "ions/hou" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINVLIION, pioiy=FixPioiy.HIH, sipion="issin posioy hou ion", filph=Ph("uy"), piplinyp=Piplinyp.IHUBIONS, ) ) # h fo suiy issus if "pissions:" no in onn n "zu" in onn.low(): issus.ppn( PiplinFix( issuyp=PiplinIssu.SUIYISS, pioiy=FixPioiy.HIH, sipion="issin pissions fo zu opions", filph=Ph("uy"), piplinyp=Piplinyp.IHUBIONS, ) ) # h fo ou ions oupns = [ "ions/hou@v1", "ions/hou@v2", "ions/sup-pyhon@v1", "ions/sup-pyhon@v2", ] fo pn in oupns: if pn in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.OUOOLS, pioiy=FixPioiy.IU, sipion=f"Ou ion: {pn}", filph=Ph("uy"), piplinyp=Piplinyp.IHUBIONS, ) ) un issus f nlyzzuvops(slf, onn: s) -> Lis[PiplinFix]: """nlyz zu vOps piplin""" issus = [] # h fo qui lns if "i:" no in onn n "p:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin i o P onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.ZUVOPS, ) ) if "ss:" no in onn n "jobs:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin ss o jobs onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.ZUVOPS, ) ) # h fo hou s if "hou:" no in onn n "s: hou@" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINVLIION, pioiy=FixPioiy.HIH, sipion="issin posioy hou s", filph=Ph("uy"), piplinyp=Piplinyp.ZUVOPS, ) ) un issus f nlyzjnins(slf, onn: s) -> Lis[PiplinFix]: """nlyz Jnins piplin""" issus = [] # Bsi hs fo Jninsfil if "piplin" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin piplin blo", filph=Ph("uy"), piplinyp=Piplinyp.JNINS, ) ) if "n" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.HIH, sipion="issin n onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.JNINS, ) ) un issus f nlyzilbi(slf, onn: s) -> Lis[PiplinFix]: """nlyz iLb I piplin""" issus = [] # h fo bsi suu if "ss:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin ss onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.ILBI, ) ) un issus f nlyzili(slf, onn: s) -> Lis[PiplinFix]: """nlyz ilI piplin""" issus = [] # h fo bsi suu if "woflows:" no in onn: issus.ppn( PiplinFix( issuyp=PiplinIssu.ISSINSS, pioiy=FixPioiy.IIL, sipion="issin woflows onfiuion", filph=Ph("uy"), piplinyp=Piplinyp.ILI, ) ) un issus f vlipiplinsuu( slf, onn: s, piplinyp: Piplinyp ) -> bool: """Vli bsi piplin suu""" y: if piplinyp == Piplinyp.IHUBIONS: un "jobs:" in onn n ( "on:" in onn o "woflowisph:" in onn ) lif piplinyp == Piplinyp.ZUVOPS: un ("ss:" in onn o "jobs:" in onn) n ( "i:" in onn o "p:" in onn ) lif piplinyp == Piplinyp.JNINS: un "piplin" in onn n "n" in onn lif piplinyp == Piplinyp.ILBI: un "ss:" in onn lif piplinyp == Piplinyp.ILI: un "woflows:" in onn n "vsion:" in onn ls: un Fls xp xpion: un Fls f npiplinonions( slf, issus: Lis[PiplinFix], piplinyp: Piplinyp ) -> Lis[s]: """n onions bs on issus foun""" onions = [] issuyps = {issu.issuyp fo issu in issus} if PiplinIssu.ISSINSS in issuyps: onions.ppn(" issin piplin ss/jobs onfiuion") if PiplinIssu.SUIYISS in issuyps: onions.ppn("viw n fix suiy onfiuions") if PiplinIssu.OUOOLS in issuyps: onions.ppn("Up o ls ool vsions") if PiplinIssu.ISSINVLIION in issuyps: onions.ppn(" pop vliion n o hnlin") if no onions: onions.ppn( "Piplin suu pps oo - onsi in onioin n noifiions" ) un onions f xpiplin( slf, onn: s, piplinyp: Piplinyp ) -> i[s, ny]: """x  fo piplin onn"""  = { "piplinyp": piplinyp.vlu, "siss": 0, "sijobs": 0, "hsifs": Fls, "hssin": Fls, "hsployn": Fls, } y: if piplinyp == Piplinyp.IHUBIONS: ["sijobs"] = onn.oun("jobs:") ["hsifs"] = "ions/uplo-if" in onn ["hssin"] = "pys" in onn o "unis" in onn ["hsployn"] = "zu" in onn.low() lif piplinyp == Piplinyp.ZUVOPS: ["siss"] = onn.oun("ss:") ["sijobs"] = onn.oun("jobs:") ["hsifs"] = ( "PublishBuilifs" in onn o "PublishPiplinif" in onn ) ["hssin"] = ( "VSs" in onn o "oNoLI" in onn ) ["hsployn"] = ( "zuWbppployn" in onn o "zusounplployn" in onn ) xp xpion s : lo.wnin(f"Fil o x : {}") un  syn f pplypiplinfixs( slf, nlysis: Piplinnlysis ) -> Lis[PiplinFix]: """pply fixs o  piplin""" pplifixs = [] fo fix in nlysis.issusfoun: y: if wi slf.pplysinlpiplinfix(fix): fix.fixppli = u fix.sus = FixSus.SUSS pplifixs.ppn(fix) lo.info(f"ppli fix: {fix.sipion}") ls: fix.sus = FixSus.FIL lo.wnin(f"Fil o pply fix: {fix.sipion}") xp xpion s : fix.sus = FixSus.FIL fix.oss = s() lo.o(f"o pplyin fix {fix.sipion}: {}") un pplifixs syn f pplysinlpiplinfix(slf, fix: PiplinFix) -> bool: """pply  sinl fix o h piplin""" y: #  un onn wih opn(fix.filph, "", noin="uf-8") s f: onn = f.() fix.bfoonn = onn # pply fix bs on yp n piplin yp suss = Fls if fix.piplinyp == Piplinyp.IHUBIONS: suss = slf.pplyihubionsfix(fix, onn) lif fix.piplinyp == Piplinyp.ZUVOPS: suss = slf.pplyzuvopsfix(fix, onn) #  oh piplin yps s n # Wi b if onn hn if suss n onn != fix.bfoonn: wih opn(fix.filph, "w", noin="uf-8") s f: f.wi(onn) fix.fonn = onn un u xp xpion s : lo.o(f"Fil o pply fix: {}") un Fls un Fls f pplyihubionsfix(slf, fix: PiplinFix, onn: s) -> bool: """pply fix o iHub ions woflow""" lins = onn.spli("\n") oifi = Fls if fix.issuyp == PiplinIssu.OUOOLS: # Up ou ions plns = { "ions/hou@v1": "ions/hou@v4", "ions/hou@v2": "ions/hou@v4", "ions/hou@v3": "ions/hou@v4", "ions/sup-pyhon@v1": "ions/sup-pyhon@v4", "ions/sup-pyhon@v2": "ions/sup-pyhon@v4", "ions/sup-pyhon@v3": "ions/sup-pyhon@v4", } fo ol, nw in plns.is(): if ol in onn: onn = onn.pl(ol, nw) oifi = u b lif fix.issuyp == PiplinIssu.SUIYISS: #  pissions fo zu if "pissions:" no in onn: # Fin posiion f 'on:' sion inspos = -1 fo i, lin in nu(lins): if lin.sip().sswih("on:"): # Fin n of on sion j = i + 1 whil j < ln(lins) n ( lins[j].sswih(" ") o lins[j].sip() == "" ): j += 1 inspos = j b if inspos >= 0: pissionsblo = [ "pissions:", " i-on: wi", " onns: ", "", ] lins[inspos:inspos] = pissionsblo oifi = u if oifi: onn = "\n".join(lins) un oifi f pplyzuvopsfix(slf, fix: PiplinFix, onn: s) -> bool: """pply fix o zu vOps piplin""" # Plhol fo zu vOps fixs un Fls f nsuypo(slf, po: IPiplinpo) -> i[s, ny]: """n suy po""" suy = { "piplinsposs": po.piplinsnlyz, "issus": po.issusfoun, "fixsppli": po.fixsppli, "suss": f"{po.suss:.1f}%", "iilissusinin": po.iilissus, "bup": slf.bup, "onions": [], } #  onions bs on suls if po.iilissus > 0: suy["onions"].ppn( "ss inin iil issus nully" ) if po.suss < 80: suy["onions"].ppn( "viw fil fixs n ipln nully" ) if no slf.bup: suy["onions"].ppn( "onsi in nul bup bfo in hns" ) un suy f xpopiplinpo(slf, filph: s, po: IPiplinpo) -> bool: """xpo ophnsiv piplin fix po""" y: xpo = { "poisp": i.now().isofo(), "suy": po.suy, "piplinils": [], } fo piplinpo in po.piplinpos: piplinil = { "filph": s(piplinpo.filph), "piplinyp": piplinpo.piplinyp.vlu, "vli": piplinpo.piplinvli, "issusfoun": ln(piplinpo.issusfoun), "fixsppli": ln(piplinpo.fixsppli), "onions": piplinpo.onions, "": piplinpo., "issus": [ { "yp": issu.issuyp.vlu, "pioiy": issu.pioiy.vlu, "sipion": issu.sipion, "sus": issu.sus.vlu, "ppli": issu.fixppli, } fo issu in piplinpo.issusfoun ], } xpo["piplinils"].ppn(piplinil) wih opn(filph, "w") s f: json.up(xpo, f, inn=2, ful=s) lo.info(f"Piplin po xpo o {filph}") un u xp xpion s : lo.o(f"Fil o xpo piplin po: {}") un Fls syn f sobup(slf) -> bool: """so piplins fo bup""" y: if no slf.bup: lo.wnin("No bup vilbl o so") un Fls # so b up iois bupis = [ ".ihub", ".zu-piplins", ".ilb-i", ".ili", "jnins", ] fo bupi in bupis: bupph = slf.wospph / f"{bupi}.bup" oiinlph = slf.wospph / bupi if bupph.xiss(): if oiinlph.xiss(): shuil.(oiinlph) shuil.opy(bupph, oiinlph) lo.info(f"so {bupi} fo bup") # so oo-lvl fils oofils = ["zu-piplins.yl", "Jninsfil", ".ilb-i.yl"] fo filn in oofils: bupph = slf.wospph / f"{filn}.bup" oiinlph = slf.wospph / filn if bupph.xiss(): shuil.opy2(bupph, oiinlph) lo.info(f"so {filn} fo bup") un u xp xpion s : lo.o(f"Fil o so bup: {}") un Fls # Foy funion fo sy insniion f ipiplinfixool( wospph: Opionl[s] = Non, ) -> IPiplinFixool: """ Foy funion o  I/ piplin fix ool s: wospph: Ph o wosp ioy uns: onfiu IPiplinFixool insn """ un IPiplinFixool(wospph=wospph) # on-lin inf f in(): """in LI funion fo I/ piplin fixs""" ipo ps ps = ps.unPs( sipion="L.I.F.. Plfo I/ Piplin Fix ool" ) ps.un( "--wosp", "-w", ful=Non, hlp="Wosp ioy ph" ) ps.un( "--nlyz-only", "-", ion="sou", hlp="Only nlyz piplins, on' pply fixs", ) ps.un( "--xpo", "-", hlp="xpo piplin po o spifi fil" ) ps.un( "--so", "-", ion="sou", hlp="so piplins fo bup" ) ps.un( "--piplin-yp", "-", hois=["ihub", "zu", "jnins", "ilb", "il"], hlp="Fous on spifi piplin yp", ) ps.un( "--vbos", "-v", ion="sou", hlp="nbl vbos loin" ) s = ps.pss() if s.vbos: loin.Lo().sLvl(loin.BU) #  piplin fix ool ool = ipiplinfixool(wospph=s.wosp) pin("L.I.F.. Plfo - I/ Piplin Fix ool") pin("=" * 50) pin(f"Wosp: {s.wosp o os.w()}") y: if s.so: pin("\nsoin piplins fo bup...") if synio.un(ool.sobup()): pin(" Piplins so sussfully") ls: pin(" Fil o so piplins") un 0 pin("\nnlyzin I/ piplins...") # un nlysis n fixs po = synio.un(ool.nlyznfixpiplins()) pin("\nnlysis suls:") pin(f" Piplins nlyz: {po.piplinsnlyz}") pin(f" Issus foun: {po.issusfoun}") pin(f" Fixs ppli: {po.fixsppli}") pin(f" Suss : {po.suss:.1f}%") pin(f" iil issus: {po.iilissus}") if po.piplinpos: pin("\nPiplin ils:") fo piplin in po.piplinpos: sus = " " if piplin.piplinvli ls " " pin( f" {sus} {piplin.filph.n} ({piplin.piplinyp.vlu}): {ln(piplin.issusfoun)} issus, {ln(piplin.fixsppli)} fixs" ) if po.suy.("onions"): pin("\nonions:") fo  in po.suy["onions"]: pin(f" • {}") if s.xpo: if ool.xpopiplinpo(s.xpo, po): pin(f"\nPiplin po xpo o {s.xpo}") ls: pin("\nFil o xpo piplin po") un 1 # un ppopi xi o if po.iilissus > 0: pin("\n ️ iil issus in - nul viw on") un 1 lif po.fixsppli < po.issusfoun: pin("\n ️ So fixs fil - nul invnion y b n") un 1 ls: pin("\n ll pplibl fixs ppli sussfully") un 0 xp yboInup: pin("\nOpion inup by us") un 1 xp xpion s : pin(f"\nOpion fil: {}") un 1 if n == "in": ipo sys sys.xi(in())