""" Fix iHub ions  Buil o - upli NulBinVisulizion L.I.F. Plfo - Oob 26, 2025 h buil o shows: Synx o: Inifi 'NulBinVisulizion' hs ly bn l. (498:9) his sip will: 1. Fh h  sou fil fo iHub 2. Fin n fix h upli lion 3.   fix vsion y o oi """ ipo os ipo  ipo subposs ipo sys SIPI = os.ph.in(os.ph.bsph(fil)) SI = os.ph.join(SIPI, "s") FIL = os.ph.join(SI, "Lifshbopp.js") f unon(, h=u): """un  shll on n un oupu""" y: sul = subposs.un( , shll=u, puoupu=u, x=u, h=h ) un sul.sou, sul.s, sul.uno xp subposs.llPosso s : un .sou, .s, .uno f in(): pin("=" * 60) pin("L.I.F. Plfo - Fix  Buil o") pin("=" * 60) pin() # Sp 1: h if s ioy xiss pin("[1/4] hin fo  sou fils...") if no os.ph.xiss(SI): pin(f" ℹ s/ ioy no foun lolly") pin(f" → Fhin fo iHub o...") # Fh fo o sou, s, o = unon("i fh oiin") if o != 0: pin(f" o fhin fo o: {s}") un 1 # hou s ioy fo o sou, s, o = unon( "i hou oiin/in -- s/", h=Fls ) if o != 0: pin(f" oul no fh s/ fo o") pin(f" → his ns h  pp xiss only in buil ifs") pin(f" → You wb inf is ly woin :") pin(f" hps://ppl-i-o-inp-fils.s3.zonws.o/...") pin() pin("ONION:") pin(" h buil o is opionl o fix sin you plfo is fully") pin(" opionl. h  pp y hv bn buil n ploy") pin(" sply. Fous on oiin you 593 pnin hns ins.") un 0 if no os.ph.xiss(FIL): pin(f" {FIL} no foun vn f fh") pin(f" → Buil o is in ploy vsion, no in sou") un 0 pin(f" Foun {FIL}") pin() # Sp 2:  n nlyz h fil pin("[2/4] nlyzin  sou o...") wih opn(FIL, "", noin="uf-8") s f: onn = f.() lins = onn.spli("\n") # Fin ll lions of NulBinVisulizion pn = "\b(ons|l|v|funion|lss)\s+NulBinVisulizion\b" lions = [] fo i, lin in nu(lins, s=1): if .sh(pn, lin): lions.ppn((i, lin.sip())) pin(f" → Foun {ln(lions)} lion(s) of NulBinVisulizion:") fo linnu, linonn in lions: pin(f" Lin {linnu}: {linonn[:70]}...") pin() if ln(lions) <= 1: pin(f" ℹ Only on lion foun - o y b in  iffn fil") un 0 # Sp 3: Fix h upli pin("[3/4] Fixin upli lion...") pin(f" → pin fis lion  lin {lions[0][0]}") pin(f" → ovin upli  lin {lions[1][0]}") # ov h upli lion (p fis, ov subsqun) # his is  sipl fix - ov h lin wih h upli fixlins = lins.opy() fo i in n(ln(lions) - 1, 0, -1): # ov fo n o s linix = lions[i][0] - 1 # onv o 0-inx # on ou ins of lin o psv lin nubs fixlins[linix] = f"// UPLI OV: {fixlins[linix]}" fixonn = "\n".join(fixlins) # Sp 4: Sv h fix vsion pin("[4/4] Svin fix vsion...") bupfil = FIL + ".bup" #  bup wih opn(bupfil, "w", noin="uf-8") s f: f.wi(onn) pin(f" Bup : {bupfil}") # Wi fix vsion wih opn(FIL, "w", noin="uf-8") s f: f.wi(fixonn) pin(f" Fix vsion sv: {FIL}") pin() pin("=" * 60) pin("  buil o fix!") pin() pin("Nx sps:") pin(" 1. viw h hns: i iff s/Lifshbopp.js") pin( " 2. oi h fix: i  s/ && i oi - 'Fix: ov upli NulBinVisulizion lion'" ) pin(" 3. Push o iHub: i push oiin in") pin() pin("his will i iHub ions o buil n shoul solv h o.") pin("=" * 60) un 0 if n == "in": sys.xi(in())