""" Pyhon 3.13 Up & zu Funions PI Fix ophnsiv soluion o up o Pyhon 3.13 n fix PI npoins opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b """ ipo json ipo os fo i ipo i y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss # zu Funion pp onfiuion FUNIONPPN = "lifplfo1760781933" SOUOUP = "lif-plfo-po" PYHONVSION = "3.13" f funionppsuu(): """ pop zu Funions suu wih Pyhon 3.13""" pin(" ️ in zu Funions suu wih Pyhon 3.13...") #  in funion ioy funi = Ph("LifPlfoPI") y: funi.i(xiso=u) xp xpion s : os.is(funi, xiso=u) #  funion.json fo HP i funionjson = { "sipFil": "ini.py", "binins": [ { "uhLvl": "nonyous", "yp": "hpi", "iion": "in", "n": "q", "hos": ["", "POS"], "ou": "{*ou:lph?}", }, {"yp": "hp", "iion": "ou", "n": "$un"}, ], } wih opn(funi / "funion.json", "w") s f: json.up(funionjson, f, inn=2) pin(f"  funion.json in {funi}") #  ini.py wih pop ouin inipyonn = '''""" L.I.F.. Plfo zu Funions ny Poin Pyhon 3.13 opibl Iplnion """ ipo json ipo loin ipo zu.funions s fun fo ypin ipo i, ny ipo sys ipo os #  pn ioy o ph o ipo ou ouls sys.ph.ppn(os.ph.in(os.ph.bsph(fil + "/.."))) y: fo lifplfopi ipo LIFPlfoPI, PIspons xp Ipoo s : loin.o(f"Fil o ipo L.I.F. Plfo PI: {}") # Fllb iplnion lss LIFPlfoPI: f possqus(slf, ho: s, ph: s, boy: i[s, ny] = Non) -> i[s, ny]: un { "sus": "o", "ss": f"oul ipo fil: {}", "isp": "2025-10-1810:00:00Z" } # Iniiliz PI insn piinsn = LIFPlfoPI() f in(q: fun.Hpqus) -> fun.Hpspons: """in zu Funion ny poin""" loin.info("L.I.F. Plfo PI qus iv") y: #  qus ils ho = q.ho.upp() ul = q.ul ph = q.oups.('ou', '') # Hnl oo ph if no ph: if 'pi/' in ul: ph = ul.spli('pi/')[-1].spli('?')[0] ls: ph = "" #  lin slsh if issin if ph n no ph.sswih('/'): ph = '/' + ph # onv o full PI ph if ph n no ph.sswih('/pi/'): if ph.sswih('/'): ph = '/pi' + ph ls: ph = '/pi/' + ph loin.info(f"Possin {ho} qus o {ph}") #  qus boy boy = Non if ho in ['POS', 'PU', 'PH']: y: boys = q.boy().o('uf-8') if boys: boy = json.los(boys) xp xpion s : loin.wnin(f"Fil o ps qus boy: {}") boy = {} # Poss h qus spons = piinsn.possqus(ho, ph, boy) # nsu spons hs qui fils if no isinsn(spons, i): spons = {"sus": "o", "ss": "Invli spons fo"} #   spons.sful("isp", i.now().isofo()) spons.sful("pyhonvsion", f"{sys.vsioninfo.jo}.{sys.vsioninfo.ino}") spons.sful("plfo", "zu Funions") # un JSON spons un fun.Hpspons( json.ups(spons, inn=2), suso=200 if spons.("sus") == "suss" ls 500, hs={ "onn-yp": "ppliion/json", "ss-onol-llow-Oiin": "*", "ss-onol-llow-hos": ", POS, PU, L, OPIONS", "ss-onol-llow-Hs": "onn-yp, uhoizion" } ) xp xpion s : loin.o(f"L.I.F. Plfo PI o: {s()}", xinfo=u) ospons = { "sus": "o", "ss": f"PI possin fil: {s()}", "isp": i.now().isofo(), "pyhonvsion": f"{sys.vsioninfo.jo}.{sys.vsioninfo.ino}", "oyp": yp().n } un fun.Hpspons( json.ups(ospons, inn=2), suso=500, hs={"onn-yp": "ppliion/json"} ) ''' wih opn(funi / "ini.py", "w") s f: f.wi(inipyonn) pin(f"  ini.py in {funi}") un funi f uphosjson(): """Up hos.json fo Pyhon 3.13 opibiliy""" pin(" Upin hos.json fo Pyhon 3.13...") hosonfi = { "vsion": "2.0", "loin": { "ppliionInsihs": { "splinSins": {"isnbl": u, "xluyps": "qus"}, "nblLivisFils": u, }, "loLvl": { "ful": "Infoion", "Hos.suls": "Infoion", "Funion": "Infoion", "Hos.o": "Infoion", }, }, "xnsionBunl": { "i": "iosof.zu.Funions.xnsionBunl", "vsion": "[4.*, 5.0.0)", }, "funioniou": "00:10:00", "y": { "sy": "xponnilBoff", "xyoun": 3, "iniuInvl": "00:00:02", "xiuInvl": "00:00:30", }, "hlhonio": { "nbl": u, "hlhhInvl": "00:00:10", "hlhhWinow": "00:02:00", "hlhhhshol": 6, "ounhshol": 0.80, }, "hp": { "ouPfix": "", "xOusninquss": 200, "xonunquss": 100, "yniholsnbl": u, }, } wih opn("hos.json", "w") s f: json.up(hosonfi, f, inn=2) pin(" Up hos.json") f upquinsx(): """Up quins.x fo Pyhon 3.13 opibiliy""" pin(" Upin quins.x fo Pyhon 3.13...") quins = """# L.I.F. Plfo - Pyhon 3.13 opibl pnnis # zu pl y - npis Nul Possin Sys # opyih 2025 - Sio Py Boull # zu Funions uni zu-funions>=1.19.0 zu-funions-wo>=1.2.0 # o Sinifi opuin (Pyhon 3.13 opibl) nupy>=1.26.0 pns>=2.1.0 sipy>=1.11.0 sii-ln>=1.3.0 # Nul Possin & hin Lnin nsoflow>=2.15.0 oh>=2.1.0 n>=1.5.0 # / nlysis niln>=0.10.2 # Nuoiin joblib>=1.3.2 # zu S oponns (Ls vsions) zu-iniy>=1.15.0 zu-so-blob>=12.19.0 zu-yvul-ss>=4.7.0 zu-svibus>=7.11.0 zu-onio-opnly>=1.2.0 #  Possin & nlysis synio-q>=0.13.0 iohp>=3.9.0 fspi>=0.104.0 pyni>=2.5.0 # onioin & Loin ppliioninsihs>=0.11.10 opnnsus-x-zu>=1.1.13 # vlopn & sin pys>=7.4.0 pys-synio>=0.21.0 bl>=23.10.0 fl8>=6.1.0 # Pfon & Opiizion psuil>=5.9.6 oy-pofil>=0.61.0 lin-pofil>=4.1.0 """ wih opn("quins.x", "w") s f: f.wi(quins) pin(" Up quins.x") f lolsins(): """ lol.sins.json fo vlopn""" pin(" ️ in lol.sins.json...") lolsins = { "Isnyp": Fls, "Vlus": { "zuWbJobsSo": "", "FUNIONSWOUNI": "pyhon", "FUNIONSWOUNIVSION": "3.13", "FUNIONSXNSIONVSION": "~4", "ZUSOOUN": "slifplfopo", "ZUYVUL": "v-lif-plfo-po", "ZUSVIBUS": "sb-lif-plfo-po", "LIFNVIONN": "pouion", "LIFPLFOVSION": "2025.1.0-POUION", "PPINSIHSINSUNIONY": "", "PPLIIONINSIHSONNIONSIN": "", }, "Hos": {"LolHpPo": 7071, "OS": "*", "OSnils": Fls}, } wih opn("lol.sins.json", "w") s f: json.up(lolsins, f, inn=2) pin("  lol.sins.json") f ploynsip(): """ zu ployn sip wih Pyhon 3.13""" pin(" in ployn sip...") siponn = f"""#!/bin/bsh # L.I.F. Plfo - Pyhon 3.13 ployn Sip # zu pl y ployn s - ho " L.I.F. Plfo - Pyhon 3.13 ployn" ho "=============================================" # onfiuion FUNPPN="{FUNIONPPN}" SOUOUP="{SOUOUP}" PYHONVSION="{PYHONVSION}" # Up Funion pp sins fo Pyhon 3.13 ho " Upin Funion pp sins fo Pyhon 3.13..." z funionpp onfi ppsins s \\ --sou-oup $SOUOUP \\ --n $FUNPPN \\ --sins \\ FUNIONSWOUNI=pyhon \\ FUNIONSWOUNIVSION=$PYHONVSION \\ FUNIONSXNSIONVSION=~4 \\ LIFPLFOVSION=2025.1.0-POUION \\ ZUSOOUN=slifplfopo \\ ZUYVUL=v-lif-plfo-po \\ ZUSVIBUS=sb-lif-plfo-po \\ LIFNVIONN=pouion ho " Up Funion pp sins" #  ployn p ho " in ployn p..." zip - ployn.zip . -x "*.i*" "*.vso*" "pyh/*" "*.py" "vnv/*" "nv/*" ho " ployin o zu Funions..." z funionpp ployn sou onfi-zip \\ --sou-oup $SOUOUP \\ --n $FUNPPN \\ --s ployn.zip ho " Wiin fo ployn o opl..." slp 30 # s h ployn ho " sin ployn..." ho "sin vliion npoin..." ul -s "hps://$FUNPPN.zuwbsis.n/pi/vli-insion" | jq . || ho "Vliion s fil" ho "sin insion ss..." ul -s "hps://$FUNPPN.zuwbsis.n/pi/insion-ss" | jq . || ho "Ss s fil" ho "sin  insion..." ul -s -X POS "hps://$FUNPPN.zuwbsis.n/pi/ins-xnl-" \\ -H "onn-yp: ppliion/json" \\ - '{{"o": "fullyl"}}' | jq . || ho "Insion s fil" ho "" ho " ployn opl!" ho "==================================" ho "Funion pp: hps://$FUNPPN.zuwbsis.n" ho "PI npoins:" ho " - Vli: hps://$FUNPPN.zuwbsis.n/pi/vli-insion" ho " - Ss: hps://$FUNPPN.zuwbsis.n/pi/insion-ss" ho " - Ins: hps://$FUNPPN.zuwbsis.n/pi/ins-xnl-" ho "==================================" """ wih opn("ploypyhon313.sh", "w") s f: f.wi(siponn) #  xubl os.ho("ploypyhon313.sh", 0o755) # lso  Winows bh vsion bhonn = f"""@ho off  L.I.F. Plfo - Pyhon 3.13 ployn Sip (Winows)  zu pl y ployn ho L.I.F. Plfo - Pyhon 3.13 ployn ho ============================================= S FUNPPN={FUNIONPPN} S SOUOUP={SOUOUP} S PYHONVSION={PYHONVSION} ho Upin Funion pp sins fo Pyhon 3.13... ll z funionpp onfi ppsins s ^ --sou-oup %SOUOUP% ^ --n %FUNPPN% ^ --sins ^ FUNIONSWOUNI=pyhon ^ FUNIONSWOUNIVSION=%PYHONVSION% ^ FUNIONSXNSIONVSION=~4 ^ LIFPLFOVSION=2025.1.0-POUION ^ ZUSOOUN=slifplfopo ^ ZUYVUL=v-lif-plfo-po ^ ZUSVIBUS=sb-lif-plfo-po ^ LIFNVIONN=pouion ho Up Funion pp sins ho in ployn p... powshll -on "opss-hiv -Ph . -sinionPh ployn.zip -Fo -opssionLvl Opil" ho ployin o zu Funions... ll z funionpp ployn sou onfi-zip ^ --sou-oup %SOUOUP% ^ --n %FUNPPN% ^ --s ployn.zip ho Wiin fo ployn o opl... iou / 30 /nob ho sin ployn... ul "hps://%FUNPPN%.zuwbsis.n/pi/vli-insion" ul "hps://%FUNPPN%.zuwbsis.n/pi/insion-ss" ul -X POS "hps://%FUNPPN%.zuwbsis.n/pi/ins-xnl-" -H "onn-yp: ppliion/json" - "{{\\"o\\": \\"fullyl\\"}}" ho. ho ployn opl! ho ================================== ho Funion pp: hps://%FUNPPN%.zuwbsis.n ho PI npoins: ho - Vli: hps://%FUNPPN%.zuwbsis.n/pi/vli-insion ho - Ss: hps://%FUNPPN%.zuwbsis.n/pi/insion-ss ho - Ins: hps://%FUNPPN%.zuwbsis.n/pi/ins-xnl- ho ================================== pus """ wih opn("ploypyhon313.b", "w") s f: f.wi(bhonn) pin("  ployn sips") f in(): """in xuion funion""" pin("=" * 70) pin(" L.I.F. Plfo - Pyhon 3.13 Up & PI Fix") pin("=" * 70) pin(f" : {i.now().sfi('%Y-%-% %H:%:%S')}") pin(f" : {FUNIONPPN}") pin(f" Pyhon Vsion: {PYHONVSION}") pin("=" * 70) y: #  ll nssy fils funionppsuu() uphosjson() upquinsx() lolsins() ploynsip() pin("\n LL FILS  SUSSFULLY!") pin("\n Nx Sps:") pin( "1. un: ploypyhon313.b (Winows) o ./ploypyhon313.sh (Linux/)" ) pin("2. Wi fo ployn o opl") pin("3. s PI npoins") pin("4. Up nhn shbo o us nw npoins") pin("\n You Funion pp ULs:") pin(f" in: hps://{FUNIONPPN}.zuwbsis.n") pin(f" PI: hps://{FUNIONPPN}.zuwbsis.n/pi/") pin("\n y fo Pyhon 3.13 ployn!") xp xpion s : pin(f"\n o uin sup: {}") un Fls un u if n == "in": suss = in() if suss: pin("\n xu ploypyhon313.b o ploy wih Pyhon 3.13!") ls: pin("\n Sup fil. Pls h h os bov.")