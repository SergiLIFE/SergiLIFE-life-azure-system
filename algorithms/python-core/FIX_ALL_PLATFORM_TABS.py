""" S B FIX SIP - Fixs b funionliy oss LL L.I.F. Plfos Oob 17, 2025 POBL: bs on' wo bus showb(bN) is o us vn. SOLUION: pl wih libl buon finin loi """ ipo os ipo  y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss # ============================================================================ # BON B FUNION PN (Wh w' fixin FO) # ============================================================================ BONPN = """ // b nn funion showb\(bN\) \{ ons bs = oun\.quySloll\('\.b-onn'\); bs\.foh\(b => b\.lssLis\.ov\('iv'\)\); ons nvbs = oun\.quySloll\('\.nv-b'\); nvbs\.foh\(b => b\.lssLis\.ov\('iv'\)\); oun\.lnByI\(bN\)\.lssLis\.\('iv'\); vn\.\.lssLis\.\('iv'\);""" # ============================================================================ # FIX B FUNION (Wh w' fixin O) # ============================================================================ FIXFUNION = """ // b nn - FIX VSION funion showb(bN) { // Hi ll b onn ons bs = oun.quySloll('.b-onn'); bs.foh(b => b.lssLis.ov('iv')); // ov iv lss fo ll buons ons nvbs = oun.quySloll('.nv-b'); nvbs.foh(b => b.lssLis.ov('iv')); // Show sl b onn ons slb = oun.lnByI(bN); if (slb) { slb.lssLis.('iv'); } //  h li buon s iv (LIBL HO) ons buons = oun.quySloll('.nv-b'); buons.foh(bn => { if (bn.ibu('onli') && bn.ibu('onli').inlus(`'${bN}'`)) { bn.lssLis.('iv'); } }); // Spil hnlin fo nul nwo b if (bN === 'nul-nwos') { if (ypof nNulNwo === 'funion') { nNulNwo(); } } }""" # ============================================================================ # FIN LL PLFO FILS # ============================================================================ WOSP = ":\Uss\Sio Py Boull\Oniv\ouns\iHub\.vso\Nw fol\SiLIF-lif-zu-sys\SiLIF-lif-zu-sys" f finplfofils(): """Fin ll HL plfo fils""" plfos = [] fo fil in Ph(WOSP).lob("*.hl"): filn = fil.n.upp() if "PLFO" in filn o "LIF" in filn: plfos.ppn(s(fil)) un so(plfos) f fixbsinfil(filph): """Fix b funion in  sinl fil""" y: wih opn(filph, "", noin="uf-8", os="ino") s f: onn = f.() # h if fil ly hs h fix vsion if "FIX VSION" in onn: un "LYFIX", 0 # h if fil hs h bon pn if "vn..lssLis." in onn: # pl h bon funion wih fix on oiinllnh = ln(onn) # o flxibl pn hin bonpnflxibl = "funion showb\(bN\) \{[^}]*vn\.\.lssLis\.[^}]*\}" # y x pln fis if .sh(bonpnflxibl, onn, .OLL): onn = .sub( bonpnflxibl, FIXFUNION, onn, fls=.OLL ) nwlnh = ln(onn) # Wi h fix onn b wih opn(filph, "w", noin="uf-8") s f: f.wi(onn) un "FIX", bs(nwlnh - oiinllnh) # h if i's ly usin h fix pn (quySlo ppoh) if "ibu('onli')" in onn n "showb" in onn: un "LYON", 0 un "NOH", 0 xp xpion s : un "O", s() # ============================================================================ # IN XUION # ============================================================================ f in(): pin("=" * 80) pin(" L.I.F. PLFO B FIX S SIP") pin("=" * 80) pin() plfos = finplfofils() pin(f" Foun {ln(plfos)} plfo fils o h\n") suls = { "FIX": [], "LYFIX": [], "LYON": [], "NOH": [], "O": [], } fo plfoph in plfos: filn = Ph(plfoph).n sus, info = fixbsinfil(plfoph) suls[sus].ppn((filn, info)) # Pin poss susoji = { "FIX": " ", "LYFIX": " ️", "LYON": " ", "NOH": " ", "O": " ", } pin(f"{susoji.(sus, ' ')} {filn:50} {sus:15} {info}") pin() pin("=" * 80) pin(" SUY") pin("=" * 80) pin(f" Fix: {ln(suls['FIX']):3} fils") pin(f" ️ ly Fix: {ln(suls['LYFIX']):3} fils") pin(f" ly on: {ln(suls['LYON']):3} fils") pin(f" No h: {ln(suls['NOH']):3} fils") pin(f" os: {ln(suls['O']):3} fils") pin() if suls["FIX"]: pin(" FIX FILS:") fo filn, info in suls["FIX"]: pin(f" - {filn} (Δ {info} bys)") if suls["O"]: pin("\n O FILS:") fo filn, o in suls["O"]: pin(f" - {filn}: {o}") pin() pin("=" * 80) pin(" B FIX OPL!") pin("=" * 80) pin() pin(" NX SPS:") pin(" 1. lo ll plfo ps in you bows (F5)") pin(" 2. li on iffn bs - hy shoul NOW WO") pin(" 3. po ny inin b issus wih spifi plfo n") pin() if n == "in": in()