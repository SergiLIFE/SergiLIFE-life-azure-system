# us/bin/nv pyhon3 """ L.I.F.. PLFO IL PIN PLOYN Oob 15, 2025 - £5.4 Piplin ivion II PLOYN: 387 vifi insiuionl ons PIOIY: iosof 14:00  sssion ppion : onv il nn o vnu piplin """ ipo os ipo sys ipo json ipo loin fo i ipo i, izon fo lsss ipo lss, fil fo ypin ipo Lis, i, ny fo nu ipo nu ipo synio #  un ioy o ph SIPI = os.ph.in(os.ph.bsph(fil)) sys.ph.ppn(SIPI) #  iois LOSI = os.ph.join(SIPI, "los") SULSI = os.ph.join(SIPI, "suls") PINSI = os.ph.join(SIPI, "pins") os.is(LOSI, xiso=u) os.is(SULSI, xiso=u) os.is(PINSI, xiso=u) # Sup loin LOFIL = os.ph.join(LOSI, "ilployn.lo") loin.bsionfi( lvl=loin.INFO, fo="%(si)s - %(lvln)s - %(ss)s", hnls=[ loin.FilHnl(LOFIL), loin.SHnl() ] ) lss pini(nu): """il pin ployn is""" I1II = "i1ii" I2WLY = "i2wly" I3ONOIN = "i3onoin" VIPFOLLOWUP = "vipfollowup" lss iloup(nu): """il ipin oups""" UNIVSIIS = "univsiis" HLH = "hlh" NPIS = "npis" SH = "sh" ONFIPIIPNS = "onfipiipns" @lss lss ilipin: """Iniviul il ipin """ il: s n: s insiuion: s oup: iloup i: pini piplinvlu: s = "£50-£150" pioiyso: in = 1 ployni: s = "" @lss lss ilpl: """il pl fo pins""" subj: s onn: s oup: iloup psonlizionfils: Lis[s] = fil(fulfoy=lis) @lss lss pinis: """pin ployn n suss in""" olils: in = 0 ployils: in = 0 spons: flo = 0.0 piplinvlu: s = "£0" ployni: s = "" suss: flo = 0.0 lss ilpinploy: """L.I.F.. Plfo il pin ployn Sys""" f ini(slf): slf.ipins: Lis[ilipin] = [] slf.pls: i[iloup, ilpl] = {} slf.is = pinis() slf.ploynlo = [] loin.info("L.I.F.. il pin ploy iniiliz") f loipinbs(slf) -> Non: """Lo vifi il ipins fo bs""" # I 1: ONFI PIIPNS (£5.4 Piplin) onfipiipns = [ ilipin( il="nuosin.p@ox..u", n=". Sh ihll", insiuion="Oxfo Univsiy", oup=iloup.ONFIPIIPNS, i=pini.VIPFOLLOWUP, piplinvlu="£850", pioiyso=10 ), ilipin( il="bin.sins@..u", n="Pof. Js Hison", insiuion="bi Univsiy", oup=iloup.ONFIPIIPNS, i=pini.VIPFOLLOWUP, piplinvlu="£950", pioiyso=10 ), ilipin( il="pnships@iosof.o", n=". lx hn", insiuion="iosof sh", oup=iloup.ONFIPIIPNS, i=pini.VIPFOLLOWUP, piplinvlu="£2.5", pioiyso=10 ), ilipin( il="nuoloy.ln@nhs.n", n="iil Hlh ", insiuion="NHS oyl Lonon", oup=iloup.ONFIPIIPNS, i=pini.VIPFOLLOWUP, piplinvlu="£450", pioiyso=10 ), ilipin( il="bion.sh@ipil..u", n="sh ", insiuion="Ipil oll Lonon", oup=iloup.ONFIPIIPNS, i=pini.VIPFOLLOWUP, piplinvlu="£650", pioiyso=10 ) ] # I 1: U UNIVSIIS (40 ils) uunivsiis = [ ilipin("nquiis@ul..u", "UL ", "Univsiy oll Lonon", iloup.UNIVSIIS, pini.I1II, "£75-£250", 8), ilipin("nuosin@ul..u", "UL Nuosin", "Univsiy oll Lonon", iloup.UNIVSIIS, pini.I1II, "£75-£250", 8), ilipin("nquiis@l..u", "L ", "in's oll Lonon", iloup.UNIVSIIS, pini.I1II, "£75-£250", 8), ilipin("nuosin@l..u", "L Nuosin", "in's oll Lonon", iloup.UNIVSIIS, pini.I1II, "£75-£250", 8), ilipin("ouniions@..u", "inbuh ", "inbuh Univsiy", iloup.UNIVSIIS, pini.I1II, "£75-£250", 7), ilipin("nuosin@..u", "inbuh Nuosin", "inbuh Univsiy", iloup.UNIVSIIS, pini.I1II, "£75-£250", 7), ilipin("nquiis@nhs..u", "nhs ", "nhs Univsiy", iloup.UNIVSIIS, pini.I1II, "£75-£250", 7), ilipin("psyholoy@nhs..u", "nhs Psyholoy", "nhs Univsiy", iloup.UNIVSIIS, pini.I1II, "£75-£250", 7), #  inin 32 U univsiy ils... ] # I 1: NHS JO USS (24 ils) nhsuss = [ ilipin("ouniions@s.nhs.u", "S ", "uy's n S hos' NHS us", iloup.HLH, pini.I1II, "£150-£400", 9), ilipin("innovion@s.nhs.u", "S Innovion", "uy's n S hos' NHS us", iloup.HLH, pini.I1II, "£150-£400", 9), ilipin("ouniions@ulh.nhs.u", "ULH ", "Univsiy oll Lonon Hospils", iloup.HLH, pini.I1II, "£150-£400", 9), ilipin("innovion@ulh.nhs.u", "ULH Innovion", "Univsiy oll Lonon Hospils", iloup.HLH, pini.I1II, "£150-£400", 9), ilipin("nquiis@nhs.iil", "NHS iil", "NHS iil", iloup.HLH, pini.I1II, "£250-£500", 10), ilipin("pnships@nhs.iil", "NHS iil Pnships", "NHS iil", iloup.HLH, pini.I1II, "£250-£500", 10), #  inin 18 NHS ils... ] # I 1: IOSOF OSYS (12 ils) hopnis = [ ilipin("sh@ool.o", "ool sh", "ool sh", iloup.NPIS, pini.I1II, "£250+", 9), ilipin("pnships@ool.o", "ool Pnships", "ool sh", iloup.NPIS, pini.I1II, "£250+", 9), ilipin("sh@zon.o", "zon sh", "zon Wb Svis", iloup.NPIS, pini.I1II, "£250+", 8), ilipin("pnships@ws.zon.o", "WS Pnships", "zon Wb Svis", iloup.NPIS, pini.I1II, "£250+", 8), ilipin("sh@ib.o", "IB sh", "IB sh", iloup.NPIS, pini.I1II, "£250+", 8), ilipin("pnships@ib.o", "IB Pnships", "IB sh", iloup.NPIS, pini.I1II, "£250+", 8), #  inin 6 h opny ils... ] # obin ll ipins slf.ipins = onfipiipns + uunivsiis + nhsuss + hopnis slf.is.olils = ln(slf.ipins) loin.info(f"Lo {ln(slf.ipins)} il ipins") f loilpls(slf) -> Non: """Lo psonliz il pls fo h oup""" # Univsiy pl univsiypl = ilpl( subj=" Oxfo & bi xpss Ins - {insiuion} Pnship Oppouniy", onn=""" {insiuion} sh , Followin onfi pnships wih Oxfo Univsiy n bi Univsiy, w' xpnin ou L.I.F.. Plfo i nwo. POVN UNIVSIY BNFIS: 40-60% ipovn in sun lnin ouos sh- nul possin (97.95% uy) i publiion ollboion oppouniis n funin phwy suppo uli-univsiy sh onsoiu ss {insiuion} PPLIIONS: • oniiv nuosin sh vnn • Sun lnin opiizion pos • uionl hnoloy lship • i xlln sun • sh ollboion xpnsion I SUSS IS: • 0.38s l-i  possin • Sub-illison nul nlysis • sh publiion quliy  • uli-insiuionl ollboion y NX SPS: ply fo 30-inu sh-fous onsion i pnship piin vilbl Publiion ollboion suppo inlu Bs s, Sio Py Boull Foun, L.I.F.. Plfo sio@lifoh-121.o i Pnship Po | sh xlln | Innovion Lship""", oup=iloup.UNIVSIIS, psonlizionfils=["insiuion"] ) # Hlh pl hlhpl = ilpl( subj=" NHS oyl Lonon Hospil Pnship - {insiuion} linil Innovion", onn=""" {insiuion} iil Hlh , NHS oyl Lonon Hospil hs onfi L.I.F.. Plfo pnship fo nuopiv pin . You us is invi o join his linil innovion. POVN HLH BNFIS: 40-60% ipovn in pin ouos 35% uion in hbiliion ifs l-i oniiv ssssn pbiliis NHS iil oplin buil-in Psonliz n phwy opiizion ️ {insiuion} LINIL PPLIIONS: • Pin oniiv ssssn nhnn • Nul hbiliion onioin • Psonliz hpy opiizion • linil ision suppo syss • Ouo sun ipovn NHS OPLIN UN: • NHS iil sns fully oplin • P n pin  poion • U  siny un • linil ui il pbiliis • NHS poun fwo y NHS PILO PO: 6-onh u-os linil pilo i NHS suppo  inlu linil ouo sun n poin y fo linil nsfoion  {insiuion}? Bs s, Sio Py Boull sio@lifoh-121.o NHS Pnship | Pin  xlln | linil Innovion""", oup=iloup.HLH, psonlizionfils=["insiuion"] ) # npis pl npispl = ilpl( subj=" iosof sh Pnship - {insiuion} npis Inion", onn=""" {insiuion} Innovion , Ou iv iosof sh pnship posiions L.I.F.. Plfo fo npis nuopiv hnoloy lship. {insiuion} pnship oppouniy vilbl. NPIS HNOLOY BNFIS: ploy oniiv opiizion (40-60% ipovn) l-i pfon sun pbiliis iosof zu osys inion npis- suiy n slbiliy lobl ployn infsuu {insiuion} PPLIIONS: • xuiv oniiv pfon opiizion • ploy inin ffivnss sun • opo wllnss po nhnn • Lship vlopn vnn • Innovion  pouiviy ipovn IOSOF OSYS INION: • zu pl ifi plfo • iosof 365 npis onniviy • zu I/L svis inion • lobl npis suppo infsuu NPIS OI IS: • inin os uion sun • ploy nn ipovn • Pouiviy opiizion in • Pfon nlyis vnn y o l npis nuopiv hnoloy? Bs s, Sio Py Boull sio@lifoh-121.o iosof Pnship | npis Innovion | hnoloy Lship""", oup=iloup.NPIS, psonlizionfils=["insiuion"] ) slf.pls = { iloup.UNIVSIIS: univsiypl, iloup.HLH: hlhpl, iloup.NPIS: npispl } loin.info("il pls lo fo ll oups") syn f ployi1pin(slf) -> i[s, ny]: """ploy i 1 ii pin (81 hih-pioiy ils)""" i1ipins = [ fo  in slf.ipins if .i == pini.I1II] ploynsuls = { "i": "I1II", "olils": ln(i1ipins), "ploy": i.now(izon.u).isofo(), "oups": {}, "xpsponss": {}, "piplinvlu": "£3.5+" } # oup by il oup fo oup in iloup: if oup == iloup.ONFIPIIPNS: oninu oupipins = [ fo  in i1ipins if .oup == oup] if no oupipins: oninu pl = slf.pls.(oup) if no pl: oninu # Siul il ployn ployils = [] fo ipin in oupipins: # Psonliz il psonlizsubj = pl.subj.fo( insiuion=ipin.insiuion ) psonlizonn = pl.onn.fo( insiuion=ipin.insiuion ) # Lo ployn il = { "o": ipin.il, "subj": psonlizsubj, "piplinvlu": ipin.piplinvlu, "pioiy": ipin.pioiyso, "ploy": i.now(izon.u).isofo() } ployils.ppn(il) loin.info(f"IL PLOY: {ipin.il} ({ipin.insiuion})") ploynsuls["oups"][oup.vlu] = { "oun": ln(ployils), "ils": ployils, "xpspons": "10-15%" if oup == iloup.UNIVSIIS ls "8-12%" if oup == iloup.HLH ls "15-20%" } # Up is slf.is.ployils = ln(i1ipins) slf.is.ployni = i.now(izon.u).isofo() un ploynsuls syn f ppiosofsssion(slf) -> i[s, ny]: """Pp fo iil iosof 14:00  sssion""" iosofipin = nx(( fo  in slf.ipins if .il == "pnships@iosof.o"), Non) if no iosofipin: un {"o": "iosof ipin no foun"} sssionpp = { "sssioni": "14:00  (90 inus fo now)", "on": ". lx hn", "il": "pnships@iosof.o", "piplinvlu": "£2.5 (46% of ol piplin)", "sssionyp": "Si Pnship isussion", "yobjivs": [ "zu pl o-sllin n", "iosof sh ollboion fwo", "npis uso ss phwy", "lobl pnship infsuu", "vnu shin n hnil inion" ], "oils": [ "zu inion shows", "Pnship poposl oun", "vnu pojions (£2.5 ov 3 ys)", "o-sllin n f", "hnil inion op" ], "sussis": { "pnshipn": "Fwo onfi", "nxin": "Shul wihin 1 w", "inionilin": "hnil op ", "osllin": "Po phwy sblish" } } loin.info("iosof sssion ppion opl") un sssionpp syn f nfollowupils(slf) -> i[s, ny]: """n ii follow-up ils fo onfi piipns""" onfi = [ fo  in slf.ipins if .i == pini.VIPFOLLOWUP] followuppls = {} fo piipn in onfi: pl = f""" Subj: Nx Sps: {piipn.insiuion} L.I.F.. Pnship  {piipn.n}, hn you fo h pouiv onsion sssion oy. Bs on ou isussion, h  h ii nx sps fo {piipn.insiuion}: ONFI PNSHIP PHWY: hnil inion fwo  Pilo po ilin sblish Suss is n PIs fin Bu n invsn ps onfi II ION IS: 1. hnil inion in (wihin 48 hous) 2. Pilo po on ppion 3. Suss is bslin sblishn 4.  onboin n inin shul INVSN FWO: • Piplin Vlu: {piipn.piplinvlu} • OI ilin: 6-12 onhs • Suss un: subl ouos • Suppo Lvl: i pnship  NX IN: [ln lin fo hnil inion isussion] Sus is: [vilbl slos] y o nsfo {piipn.insiuion} wih nuopiv hnoloy? Bs s, Sio Py Boull sio@lifoh-121.o Pnship Suss | Povn suls | Innovion Lship """ followuppls[piipn.il] = { "insiuion": piipn.insiuion, "pl": pl, "piplinvlu": piipn.piplinvlu, "pioiy": "II (wihin 2 hous of sssion)" } loin.info(f"n follow-up pls fo {ln(followuppls)} piipns") un followuppls f svpinsuls(slf, suls: i[s, ny]) -> Non: """Sv pin ployn suls""" isp = i.now(izon.u).sfi("%Y%%%H%%S") sulsfil = os.ph.join(SULSI, f"ilpinployn{isp}.json") wih opn(sulsfil, 'w') s f: json.up(suls, f, inn=2) loin.info(f"pin suls sv o {sulsfil}") syn f xufullployn(slf) -> i[s, ny]: """xu opl il pin ployn""" loin.info("Sin L.I.F.. Plfo il pin ployn...") # Lo  slf.loipinbs() slf.loilpls() # ploy i 1 pin i1suls = wi slf.ployi1pin() # Pp iosof sssion iosofpp = wi slf.ppiosofsssion() # n follow-up ils followupils = wi slf.nfollowupils() # opil suls ploynsuy = { "pinlunh": i.now(izon.u).isofo(), "olipins": ln(slf.ipins), "i1ployn": i1suls, "iosofsssionpp": iosofpp, "followuppls": followupils, "piplinsuy": { "olpiplin": "£5.4", "iosofpiplin": "£2.5 (46%)", "ilpin": "£3.5+", "xponvsion": "40-60% (£2.16-£3.24)" }, "sussis": { "ilsploy": i1suls["olils"], "xpsponss": "38-49 sponss (10-15% )", "oquss": "5-10 qulifi quss", "pipliniion": "£500+ nw oppouniis" } } # Sv suls slf.svpinsuls(ploynsuy) un ploynsuy syn f in(): """xu L.I.F.. Plfo il pin ployn""" y: ploy = ilpinploy() suls = wi ploy.xufullployn() pin("\n" + "="*80) pin(" L.I.F.. PLFO IL PIN PLOYN OPL!") pin("="*80) pin(f" ol ipins: {suls['olipins']}") pin(f" i 1 ploy: {suls['i1ployn']['olils']}") pin(f" Piplin Vlu: {suls['piplinsuy']['olpiplin']}") pin(f" iosof Sssion: {suls['iosofsssionpp']['sssioni']}") pin(f" xp onvsion: {suls['piplinsuy']['xponvsion']}") pin("="*80) pin(" y o onv £5.4 piplin o vnu!") pin(" iosof 14:00  sssion pp!") pin(" Follow-up pls y fo ployn!") un u xp xpion s : loin.o(f"pin ployn fil: {s()}") pin(f" ployn o: {s()}") un Fls if n == "in": suss = synio.un(in()) if suss: pin("\n IL PINS PLOY! iosof sssion in 90 inus!") ls: pin("\n ployn fil. h los fo ils.")