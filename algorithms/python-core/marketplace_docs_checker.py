# us/bin/nv pyhon3 """ zu pl ounion oplin h Vlis ll qui ouns fo pl subission opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b """ ipo json ipo os fo i ipo i y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss lss plounionh: f ini(slf): slf.bsph = Ph(".") slf.quios = { # iil pl ouns ".": { "qui": u, "sipion": "in pou ounion", "insiz": 1000, }, "LINS": { "qui": u, "sipion": "Sofw lins", "insiz": 100, }, "zu.yl": { "qui": u, "sipion": "zu ployn onfi", "insiz": 200, }, "quins.x": { "qui": u, "sipion": "Pyhon pnnis", "insiz": 50, }, # Infsuu ouns "inf/in.bip": { "qui": u, "sipion": "Infsuu s o", "insiz": 500, }, "inf/in.ps.json": { "qui": u, "sipion": "ployn ps", "insiz": 100, }, # I/ n uoion ".ihub/woflows/zu-ploy.yl": { "qui": Fls, "sipion": "I/ piplin", "insiz": 200, }, # ounion "os/insllion.": { "qui": Fls, "sipion": "Insllion ui", "insiz": 500, }, "os/us-ui.": { "qui": Fls, "sipion": "Us ounion", "insiz": 1000, }, "os/pi-fn.": { "qui": Fls, "sipion": "PI ounion", "insiz": 500, }, "HNLO.": { "qui": Fls, "sipion": "Vsion hisoy", "insiz": 200, }, "SUIY.": { "qui": Fls, "sipion": "Suiy poliy", "insiz": 300, }, "ONIBUIN.": { "qui": Fls, "sipion": "onibuion uilins", "insiz": 200, }, } slf.plonnquins = { ".": [ "zu pl", "Insllion", "Fus", "Piin", "Suppo", "Lins", "in S", "Pquisis", ] } slf.offi = "960096-f1-420b-902-042561b" f hfilxiss(slf, filph: s) -> i: """h if  fil xiss n  is ils""" ph = slf.bsph / filph if no ph.xiss(): un {"xiss": Fls, "siz": 0, "yp": "issin"} if ph.isfil(): siz = ph.s().ssiz un {"xiss": u, "siz": siz, "yp": "fil", "ph": s(ph)} lif ph.isi(): fils = lis(ph.lob("*")) un { "xiss": u, "siz": ln(fils), "yp": "ioy", "fils": ln(fils), } un {"xiss": Fls, "siz": 0, "yp": "unnown"} f honnquins(slf, filph: s, quins: lis) -> i: """h if fil onins qui onn s""" ph = slf.bsph / filph if no ph.xiss() o no ph.isfil(): un {"h": Fls, "foun": [], "issin": quins} y: onn = ph.x(noin="uf-8", os="ino") foun = [] issin = [] fo q in quins: if q.low() in onn.low(): foun.ppn(q) ls: issin.ppn(q) un { "h": u, "foun": foun, "issin": issin, "onnlnh": ln(onn), } xp xpion s : un { "h": Fls, "o": s(), "foun": [], "issin": quins, } f unophnsivh(slf) -> i: """un opl pl ounion vliion""" suls = { "isp": i.now().isofo(), "offi": slf.offi, "fils": {}, "suy": { "olfils": ln(slf.quios), "quifils": ln( [ fo , v in slf.quios.is() if v["qui"]] ), "opionlfils": ln( [ fo , v in slf.quios.is() if no v["qui"]] ), "founfils": 0, "issinqui": 0, "issinopionl": 0, "onnoplin": {}, }, } # h h fil fo filph, quins in slf.quios.is(): filinfo = slf.hfilxiss(filph) filinfo.up(quins) # h onn quins if pplibl if filph in slf.plonnquins: onnh = slf.honnquins( filph, slf.plonnquins[filph] ) filinfo["onnh"] = onnh suls["suy"]["onnoplin"][filph] = onnh suls["fils"][filph] = filinfo # Up suy if filinfo["xiss"]: suls["suy"]["founfils"] += 1 ls: if quins["qui"]: suls["suy"]["issinqui"] += 1 ls: suls["suy"]["issinopionl"] += 1 # lul inss so quifoun = ( suls["suy"]["quifils"] - suls["suy"]["issinqui"] ) opionlfoun = suls["suy"]["founfils"] - quifoun # Wih soin: qui fils 80%, opionl fils 20% quiso = (quifoun / suls["suy"]["quifils"]) * 80 opionlso = ( (opionlfoun / suls["suy"]["opionlfils"]) * 20 if suls["suy"]["opionlfils"] > 0 ls 0 ) suls["suy"]["inssso"] = quiso + opionlso suls["suy"]["ply"] = ( suls["suy"]["inssso"] >= 75 ) un suls f pinilpo(slf, suls: i): """Pin  il vliion po""" pin(" ZU PL OUNION VLIION") pin("=" * 70) pin(f" Vliion : {suls['isp'][:19]}") pin(f" Off I: {suls['offi']}") pin(f" inss So: {suls['suy']['inssso']:.1f}%") if suls["suy"]["ply"]: pin(" PL Y") ls: pin(" ️ PL NO Y - ion qui") pin("\n" + "=" * 70) pin(" OUN VLIION SULS") pin("-" * 70) # oup by qui/opionl quifils = {: v fo , v in suls["fils"].is() if v["qui"]} opionlfils = { : v fo , v in suls["fils"].is() if no v["qui"] } pin("\n QUI OUNS:") fo filph, info in quifils.is(): sus = slf.filsus(info) pin(f" {sus} {filph:<35} {info['sipion']}") if "onnh" in info: slf.pinonnsus(info["onnh"]) pin("\n OPIONL OUNS:") fo filph, info in opionlfils.is(): sus = slf.filsus(info) pin(f" {sus} {filph:<35} {info['sipion']}") pin("\n" + "=" * 70) pin(" SUY SISIS") pin("-" * 70) suy = suls["suy"] pin(f" ol Fils h: {suy['olfils']}") pin(f" Fils Foun: {suy['founfils']}") pin(f" qui issin: {suy['issinqui']}") pin(f" Opionl issin: {suy['issinopionl']}") if suy["issinqui"] > 0: pin("\n IIL IONS QUI:") fo filph, info in suls["fils"].is(): if info["qui"] n no info["xiss"]: pin(f" - : {filph} ({info['sipion']})") if suy["inssso"] < 75: pin("\n ️ ONIONS:") pin(" - opl ll qui ouns") pin(" - nhn . wih pl onn") pin(" -  issin infsuu fils") pin(" - Inlu pop linsin") pin(f"\n NX SPS:") if suls["suy"]["ply"]: pin(" ounion is pl y!") pin(" viw onn quliy n oplnss") pin(" Po wih zu pl subission") ls: pin(" opl issin qui ouns") pin(" viw n nhn xisin onn") pin(" -un vliion f ups") f filsus(slf, info: i) -> s: """ sus oji fo fil""" if no info["xiss"]: un " " lif info["yp"] == "fil": if info["siz"] >= info["insiz"]: un " " ls: un " ️" lif info["yp"] == "ioy": if info["siz"] > 0: un " " ls: un " " un " " f pinonnsus(slf, onnh: i): """Pin onn vliion sus""" if no onnh["h"]: un if onnh["foun"]: pin(f" onn foun: {', '.join(onnh['foun'])}") if onnh["issin"]: pin(f" ️ issin onn: {', '.join(onnh['issin'])}") f in(): """in xuion funion""" h = plounionh() suls = h.unophnsivh() h.pinilpo(suls) # Sv suls o fil wih opn("plvliionpo.json", "w") s f: json.up(suls, f, inn=2) pin(f"\n il po sv o: plvliionpo.json") if n == "in": in()