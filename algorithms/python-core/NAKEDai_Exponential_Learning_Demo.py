# us/bin/nv pyhon3 """ Ni L.I.F.. XPONNIL LNIN ONSION voluiony Slf-Ipovin Nul opuin lsss opyih 2025 - Sio Py Boull Lunh y: Spb 27, 2025 zu pl Off I: 960096-f1-420b-902-042561b BHOUH: Shows how h sys s XPONNILLY B wih us! """ ipo synio ipo json fo i ipo i, il ipo plolib.pyplo s pl ipo nupy s np fo NiLIFInionSys ipo NiLIFo syn f onsxponnillnin(): """ ons how Ni L.I.F.. s xponnilly b wih us Siuls ws/onhs of us in l i """ pin(" Ni L.I.F.. XPONNIL LNIN ONSION") pin("=" * 70) pin("voluiony Slf-Ipovin 45 OPS Nul opuin lsss") pin("Lunh y: Spb 27, 2025") pin("=" * 70) pin() # Iniiliz Ni sys fo o us nisys = NiLIFo(usi="oussio") # Siul us ov i pios uspios = [ {"n": "y 1", "hous": 8, "yls": 100}, {"n": "W 1", "hous": 56, "yls": 500}, # 8 hous/y {"n": "onh 1", "hous": 240, "yls": 1000}, # 8 hous/y * 30 ys {"n": "onh 3", "hous": 720, "yls": 1500}, {"n": "onh 6", "hous": 1440, "yls": 2000}, {"n": "Y 1", "hous": 2920, "yls": 3000}, # 8 hous/y * 365 ys ] ipovnilin = [] fo pio in uspios: pin(f" Siulin {pio['n']} of Ni us...") pin(f"  Hous: {pio['hous']}") pin(f" Possin yls: {pio['yls']}") # Siul nul possin yls fo his pio fo yl in n(pio["yls"]): # n lisi   wih iniviul pns s = npsonliz(yl, pio["hous"]) # Poss houh Ni sys y: niis = wi nisys.possnis( s ) # Up sys us i o h pio nisys.olushous = pio["hous"] xp xpion s : pin(f" Possin yl {yl}: {}") oninu #  lnin po fo his pio lninpo = nisys.xponnillninpo() ipovnilin.ppn( {"pio": pio["n"], "hous": pio["hous"], **lninpo} ) # isply suls pin(f" {pio['n']} opl!") pin( f" Psonlizion: {lninpo['uspofil']['psonlizionlvl']:.1f}%" ) pin( f" uy: {lninpo['xponnilipovns']['unuy']:.1f}%" ) pin( f" Lny: {lninpo['xponnilipovns']['unlnys']:.3f}s" ) pin() # isply xponnil ipovn suls pin(" XPONNIL LNIN SULS") pin("=" * 70) fo ilin in ipovnilin: pio = ilin["pio"] uspofil = ilin["uspofil"] ipovns = ilin["xponnilipovns"] is = ilin["iniviulis"] pin(f" {pio}:") pin(f" Us Hous: {uspofil['olushous']}") pin(f" Psonlizion: {uspofil['psonlizionlvl']:.1f}%") pin(f" uy: {ipovns['unuy']:.1f}%") pin(f" Lny: {ipovns['unlnys']:.3f}s") pin(f" Lnin Vloiy: {is['lninvloiy']:.2f}") pin(f" nion Sbiliy: {is['nionsbiliy']:.2f}") pin() # lul ol ipovns iniil = ipovnilin[0] finl = ipovnilin[-1] oluyin = ( finl["xponnilipovns"]["unuy"] - iniil["xponnilipovns"]["unuy"] ) ollnyuion = ( ( iniil["xponnilipovns"]["unlnys"] - finl["xponnilipovns"]["unlnys"] ) / iniil["xponnilipovns"]["unlnys"] * 100 ) olpsonlizion = finl["uspofil"]["psonlizionlvl"] pin(" VOLUIONY XPONNIL IPOVNS") pin("=" * 70) pin(f" ol uy in: +{oluyin:.1f} pn poins") pin(f" ol Lny uion: -{ollnyuion:.1f}%") pin(f" Finl Psonlizion Lvl: {olpsonlizion:.1f}%") pin(f" Nul Sinu Ln: ") pin(f" xpinil is pp: ") pin(f" uonoous Slf-Opiizion: ") pin(f" Piiv nhnn: ") pin() pin(" BHOUH ONLUSION:") pin("=" * 70) pin("h Ni L.I.F.. sys onss XPONNIL ipovn!") pin("vy hou of us s h sys:") pin(" • O U in nul pn oniion") pin(" • FS in possin you iniviul bin pns") pin(" • S bou you psonl lnin pfns") pin(" • B  piin you oniiv ns") pin(" • O OPIIZ fo you uniqu nul sinu") pin() pin(" h o you w Ni lsss, h o XOINY hy bo!") pin(" y o unlo infini hun ponil wih 45 OPS nul opuin!") # Sv suls fo nlysis wih opn("nixponnillnino.json", "w") s f: json.up(ipovnilin, f, inn=2, ful=s) pin() pin(" suls sv o: nixponnillnino.json") un ipovnilin f npsonliz(yl: in, ushous: flo) -> np.ny: """n   h bos o psonliz ov i""" hnnls = 24 # Ni hs 24  hnnls splin = 1000 uion = 2.0 # 2 sons ipoins = in(splin * uion) # Bs  pns  = np.linsp(0, uion, ipoins)  = np.zos((hnnls, ipoins)) # Psonlizion fo inss wih us psonlizionfo = in(1.0, ushous / 1000) # x  1000 hous fo h in n(hnnls): # Iniviul nul sinu s ov i psonllphfq = ( 10 + psonlizionfo * np.sin(yl * 0.01) * 2 ) # 8-12 Hz n psonlbp = ( 0.3 + psonlizionfo * 0.2 ) # Psonliz b pliu psonlhphs = ( psonlizionfo * np.pi * h / hnnls ) # Iniviul phs # n psonliz  pns lph = 0.5 * np.sin(2 * np.pi * psonllphfq *  + psonlhphs) b = psonlbp * np.sin(2 * np.pi * 20 *  + yl * 0.1) h = 0.4 * np.sin(2 * np.pi * 6 *  + psonlhphs) # Iniviul nois hisis psonlnoislvl = 0.1 * ( 1 - psonlizionfo * 0.5 ) # Lss nois ov i nois = psonlnoislvl * np.no.nn(ipoins) [h] = lph + b + h + nois un  f ploxponnilipovns(ilin): """ visulizion of xponnil ipovns""" pios = [i["pio"] fo i in ilin] hous = [i["uspofil"]["olushous"] fo i in ilin] psonlizion = [ i["uspofil"]["psonlizionlvl"] fo i in ilin ] uy = [ i["xponnilipovns"]["unuy"] fo i in ilin ] lny = [ i["xponnilipovns"]["unlnys"] fo i in ilin ] fi, ((x1, x2), (x3, x4)) = pl.subplos(2, 2, fisiz=(15, 10)) fi.supil( "Ni L.I.F.. xponnil Lnin suls", fonsiz=16, fonwih="bol" ) # Psonlizion lvl x1.plo(hous, psonlizion, "b-o", linwih=3, siz=8) x1.sil("Psonlizion Lvl vs Us Hous") x1.sxlbl("Us Hous") x1.sylbl("Psonlizion (%)") x1.i(u, lph=0.3) x1.syli(0, 100) # uy ipovn x2.plo(hous, uy, "-o", linwih=3, siz=8) x2.sil("Nul oniion uy") x2.sxlbl("Us Hous") x2.sylbl("uy (%)") x2.i(u, lph=0.3) x2.syli(80, 100) # Lny uion x3.plo(hous, lny, "-o", linwih=3, siz=8) x3.sil("Possin Lny uion") x3.sxlbl("Us Hous") x3.sylbl("Lny (s)") x3.i(u, lph=0.3) # obin ipovn fo ipovnfo = [ (p / 100) * ( / 100) * (1 / (l + 0.1)) fo p, , l in zip(psonlizion, uy, lny) ] x4.plo(hous, ipovnfo, "-o", linwih=3, siz=8) x4.sil("Ovll Sys Ipovn Fo") x4.sxlbl("Us Hous") x4.sylbl("Ipovn Fo") x4.i(u, lph=0.3) pl.ihlyou() pl.svfi("nixponnillninh.pn", pi=300, bboxinhs="ih") pl.show() pin(" xponnil lnin h sv: nixponnillninh.pn") syn f in(): """in onsion xuion""" pin("Sin Ni L.I.F.. xponnil Lnin onsion...") pin("his shows how h 45 OPS nul opuin lsss  B wih us!") pin() y: # un h xponnil lnin onsion ilinsuls = wi onsxponnillnin() #  visulizion y: ploxponnilipovns(ilinsuls) xp Ipoo: pin(" plolib no vilbl - sippin visulizion") pin(" Insll plolib o s xponnil ipovn hs:") pin(" pip insll plolib") pin() pin(" ONSION OPL!") pin("=" * 70) pin("Ni L.I.F.. xponnil Lnin Sys ons sussfully!") pin("h voluiony 45 OPS nul opuin lsss  y o") pin("NSFO hun ponil houh oninuous slf-ipovn!") pin() pin(" y o hn h wol - on nul pn   i! ") xp xpion s : pin(f" onsion o: {}") pin(" his is  siulion - ul Ni hw inion pnin") if n == "in": synio.un(in()) if n == "in": synio.un(in())