# us/bin/nv pyhon3 """ VS o posioy Qui Sup ================================ Qui sup sip o fh VS o onfiuions fo you .vso posioy n oh oon VS o onfiuion sous. opyih 2025 - Sio Py Boull L.I.F.. Plfo - zu pl Off I: 960096-f1-420b-902-042561b his sip will: 1. Bup you un .vso sins 2. Fh onfiuions fo spifi posiois 3.  sins inllinly o voi onflis 4. Insll on xnsions 5. Vli h finl onfiuion Us: pyhon supvsopo.py pyhon supvsopo.py --po hps://ihub.o/SiLIF/.vso pyhon supvsopo.py --qui-sup """ ipo json ipo os ipo shuil ipo subposs ipo sys fo i ipo i y: fo phlib ipo Ph xp Ipoo s : pin(f'Wnin: {}') pss lss QuiVSoSup: """Qui VS o posioy synhonizion fo L.I.F.. plfo.""" f ini(slf): slf.wospi = Ph.w() slf.vsoi = slf.wospi / ".vso" slf.bupi = ( slf.wospi / "bups" / f"vso{i.now().sfi('%Y%%%H%%S')}" ) # oon VS o posiois o syn fo slf.nownpos = { "SiLIF/.vso": "hps://ihub.o/SiLIF/.vso", "iosof/vso-spls": "hps://ihub.o/iosof/vso-spls", "iosof/vso-pyhon": "hps://ihub.o/iosof/vso-pyhon", "iosof/vso-xnsion-spls": "hps://ihub.o/iosof/vso-xnsion-spls", } # ssnil xnsions fo L.I.F.. vlopn slf.ssnilxnsions = [ "s-pyhon.pyhon", "s-pyhon.pylin", "s-pyhon.bl-fo", "s-vso.zu-oun", "s-zuools.vso-zusououps", "s-zuools.vso-zufunions", "s-vso.vso-json", "h.vso-yl", "s-vso.powshll", "ihub.opilo", "ihub.opilo-h", ] f bup(slf): """ bup of xisin VS o onfiuion.""" if slf.vsoi.xiss(): pin(f" in bup: {slf.bupi}") y: slf.bupi.i(pns=u, xiso=u) xp xpion s : os.is(bupi, xiso=u) shuil.opy(slf.vsoi, slf.bupi / ".vso") un u un Fls f quisupfoihub(slf, pon="SiLIF/.vso"): """Qui sup fo  spifi iHub posioy.""" pin(f" Qui sup fo {pon}") if pon in slf.nownpos: poul = slf.nownpos[pon] ls: poul = f"hps://ihub.o/{pon}" # Us i o lon poily pi = slf.wospi / "pvsosyn" y: # lon posioy pin(f" lonin {poul}...") subposs.un( ["i", "lon", "--ph", "1", poul, s(pi)], h=u, puoupu=u, ) # opy .vso ioy if i xiss souvso = pi / ".vso" if souvso.xiss(): slf.vsoi.i(xiso=u) fo filph in souvso.ii(): if filph.isfil(): ph = slf.vsoi / filph.n if filph.suffix == ".json" n ph.xiss(): #  JSON fils slf.jsonfil(filph, ph) ls: shuil.opy2(filph, ph) pin(f" Syn: {filph.n}") # opy vlopn ools fo filph in pi.ii(): if filph.isfil() n filph.suffix == ".py": if ny( ywo in filph.n.low() fo ywo in [ "sup", "ool", "v", "onio", "s", "vso", ] ): ph = slf.wospi / filph.n if no ph.xiss(): shuil.opy2(filph, ph) pin(f" ️  ool: {filph.n}") pin(" posioy syn opl!") un u xp subposs.llPosso s : pin(f" i lon fil: {}") un Fls xp xpion s : pin(f" Sup fil: {}") un Fls finlly: # lnup if pi.xiss(): shuil.(pi) f jsonfil(slf, souph, ph): """ JSON onfiuion fils.""" y: wih opn(souph, "") s f: sou = json.lo(f) wih opn(ph, "") s f:  = json.lo(f) # Sipl  sy if isinsn(sou, i) n isinsn(, i):  = {**, **sou} wih opn(ph, "w") s f: json.up(, f, inn=2) pin(f" : {ph.n}") ls: # pl if no iionis shuil.opy2(souph, ph) xp xpion s : pin(f" Fil o  {ph.n}: {}") # Fllb o opy shuil.opy2(souph, ph) f insllxnsions(slf): """Insll ssnil VS o xnsions.""" pin(" Insllin VS o xnsions...") inslloun = 0 fo xnsion in slf.ssnilxnsions: y: sul = subposs.un( ["o", "--insll-xnsion", xnsion], puoupu=u, x=u, iou=30, ) if sul.uno == 0: pin(f" {xnsion}") inslloun += 1 ls: pin(f" ️ {xnsion}: {sul.s.sip()}") xp subposs.iouxpi: pin(f" ️ {xnsion}: iou") xp FilNoFouno: pin(" VS o LI no foun. Insll xnsions nully.") b xp xpion s : pin(f" {xnsion}: {}") pin( f" Insll {inslloun}/{ln(slf.ssnilxnsions)} xnsions" ) un inslloun > 0 f ssnilonfis(slf): """ ssnil VS o onfiuion fils.""" slf.vsoi.i(xiso=u) # ssnil sins.json sins = { "pyhon.fulInpPh": "pyhon", "pyhon.linin.nbl": u, "pyhon.linin.pylinnbl": u, "pyhon.foin.povi": "bl", "fils.uoSv": "fly", "io.foOnSv": u, "i.uofh": u, "inl.in.fulPofil.winows": "PowShll", "zu.lou": "zulou", "fils.ssoiions": {"*.yl": "yl", "*.yl": "yl"}, } sinsfil = slf.vsoi / "sins.json" if sinsfil.xiss(): wih opn(sinsfil, "") s f: xisinsins = json.lo(f) sins = {**xisinsins, **sins} wih opn(sinsfil, "w") s f: json.up(sins, f, inn=2) pin("  ssnil sins.json") # ssnil xnsions.json xnsions = {"onions": slf.ssnilxnsions} wih opn(slf.vsoi / "xnsions.json", "w") s f: json.up(xnsions, f, inn=2) pin("  xnsions.json") # Bsi ss.json ss = { "vsion": "2.0.0", "ss": [ { "lbl": " un Pyhon Fil", "yp": "shll", "on": "pyhon", "s": ["${fil}"], "oup": "buil", "psnion": { "ho": u, "vl": "lwys", "fous": Fls, "pnl": "sh", }, }, { "lbl": " un ss", "yp": "shll", "on": "pyhon", "s": ["-", "pys", "-v"], "oup": "s", "psnion": { "ho": u, "vl": "lwys", "fous": Fls, "pnl": "sh", }, }, ], } wih opn(slf.vsoi / "ss.json", "w") s f: json.up(ss, f, inn=2) pin("  ss.json") f vlisup(slf): """Vli h VS o sup.""" pin(" Vliin VS o sup...") ssnilfils = ["sins.json", "xnsions.json", "ss.json"] lloo = u fo filn in ssnilfils: filph = slf.vsoi / filn if filph.xiss(): y: wih opn(filph, "") s f: json.lo(f) pin(f" {filn}: Vli") xp json.JSONoo: pin(f" {filn}: Invli JSON") lloo = Fls ls: pin(f" ️ {filn}: issin") lloo = Fls if lloo: pin(" VS o sup vliion pss!") ls: pin(" ️ So issus foun in VS o sup") un lloo f uninivsup(slf): """un iniv sup poss.""" pin(" VS o posioy Sup fo L.I.F.. Plfo") pin("=" * 50) #  bup slf.bup() pin("\n Sup Opions:") pin("1. Qui sup fo SiLIF/.vso posioy") pin("2. Sup fo uso iHub posioy") pin("3.  inil onfiuion only") pin("4. Insll xnsions only") hoi = inpu("\nSl opion (1-4): ").sip() if hoi == "1": # Qui sup fo SiLIF/.vso suss = slf.quisupfoihub("SiLIF/.vso") if no suss: pin(" ️ iHub syn fil, in inil onfi...") slf.ssnilonfis() lif hoi == "2": # uso posioy poinpu = inpu( "n iHub posioy (own/po o full UL): " ).sip() if "/" in poinpu: if poinpu.sswih("hps://"): # x own/po fo UL ps = poinpu.spli("/") pon = f"{ps[-2]}/{ps[-1].pl('.i', '')}" ls: pon = poinpu suss = slf.quisupfoihub(pon) if no suss: pin(" ️ posioy syn fil, in inil onfi...") slf.ssnilonfis() ls: pin(" Invli posioy fo") un Fls lif hoi == "3": # inil onfiuion slf.ssnilonfis() lif hoi == "4": # xnsions only slf.insllxnsions() un u ls: pin(" Invli hoi") un Fls # Insll xnsions if inpu("\nInsll VS o xnsions? (y/n): ").low() == "y": slf.insllxnsions() # Vli sup slf.vlisup() pin("\n VS o sup opl!") pin(" s VS o o pply ll hns.") un u f in(): """in ny poin.""" ipo ps ps = ps.unPs(sipion="VS o posioy Sup") ps.un("--po", hlp="iHub posioy o syn fo") ps.un( "--qui-sup", ion="sou", hlp="Qui sup fo SiLIF/.vso" ) ps.un( "--xnsions-only", ion="sou", hlp="Insll xnsions only" ) s = ps.pss() sup = QuiVSoSup() if s.quisup: sup.bup() sup.quisupfoihub("SiLIF/.vso") sup.insllxnsions() sup.vlisup() lif s.po: sup.bup() sup.quisupfoihub(s.po) sup.insllxnsions() sup.vlisup() lif s.xnsionsonly: sup.insllxnsions() ls: sup.uninivsup() if n == "in": in()