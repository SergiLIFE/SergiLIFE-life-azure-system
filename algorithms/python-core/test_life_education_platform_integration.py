""" L.I.F.. uion Plfo - Inion & Pfon s Sui =================================================================== opyih 2025 - Sio Py Boull ss: loih Inion, Lny, uy wih l  his s sui vlis: 1. L.I.F.. hoy loih inion in uion plfo 2. Lny suns (sub-illison s) 3. uy of ll 3 quions wih l   4. Plfo sponsivnss n libiliy """ ipo json ipo h ipo os ipo no ipo sisis ipo i fo lsss ipo lss fo ypin ipo i, Lis, upl # olo os fo inl oupu lss olos: H = "\033[95" OBLU = "\033[94" OYN = "\033[96" ON = "\033[92" WNIN = "\033[93" FIL = "\033[91" N = "\033[0" BOL = "\033[1" UNLIN = "\033[4" @lss lss Poin: """l   suu hin plfo fo""" isp: flo nn: flo # 0.0 o 1.0 fous: flo # 0.0 o 1.0 sss: flo # 0.0 o 1.0 lph: flo # lph wv pow b: flo # B wv pow h: flo # h wv pow l: flo # l wv pow @lss lss ssul: """s sul suu""" sn: s pss: bool lnys: flo uy: flo ils: s lss LIFloihs: """ s sui fo L.I.F.. hoy loih in uion plfo """ f ini(slf): slf.ssuls: Lis[ssul] = [] slf.pion = 0.15 slf.bsowh = 0.05 slf.suionlvl = 100.0 pin(f"\n{olos.H}{'='*70}{olos.N}") pin( f"{olos.H}L.I.F.. uion Plfo - Inion s Sui{olos.N}" ) pin(f"{olos.H}{'='*70}{olos.N}\n") f nl(slf, nuspls: in = 100) -> Lis[Poin]: """n lisi   fo sin""" pin( f"{olos.OYN} nin {nuspls} l   spls...{olos.N}" ) poins = [] fo i in n(nuspls): # Siul lisi  pns wih pol ohn bsnn = 0.5 + 0.3 * h.sin(i * 0.1) nois = no.uss(0, 0.05) poin = Poin( isp=i.i() + i * 0.001, # 1s invls nn=x(0.0, in(1.0, bsnn + nois)), fous=x(0.0, in(1.0, 0.6 + 0.2 * h.os(i * 0.15) + nois)), sss=x(0.0, in(1.0, 0.3 + 0.15 * h.sin(i * 0.08) + nois)), lph=x(0.0, 8.0 + 2.0 * h.sin(i * 0.12) + nois * 5), b=x(0.0, 15.0 + 3.0 * h.os(i * 0.1) + nois * 5), h=x(0.0, 6.0 + 1.5 * h.sin(i * 0.09) + nois * 3), l=x(0.0, 3.0 + 1.0 * h.os(i * 0.07) + nois * 2), ) poins.ppn(poin) pin( f"{olos.ON} n {ln(poins)}  spls{olos.N}" ) un poins f squion1ioulion( slf, : Lis[Poin] ) -> ssul: """ s QUION 1: i oulion  = pion * nn * (1 + nvwih * nvfo) """ pin(f"\n{olos.OBLU} S 1: i oulion quion{olos.N}") pin( f" Foul:  = pion * nn * (1 + nvwih * nvfo)" ) lnis = [] suls = [] fo  in [:50]: # s wih 50 spls si = i.pfoun() # QUION 1 iplnion nn = .nn nvwih = 0.3 nvfo = (.fous + (1.0 - .sss)) / 2.0  = slf.pion * nn * (1 + nvwih * nvfo) ni = i.pfoun() lny = (ni - si) * 1000 # onv o s lnis.ppn(lny) suls.ppn() vlny = sisis.n(lnis) slny = sisis.sv(lnis) vsul = sisis.n(suls) # uy h:  shoul b in sonbl n uy = 100.0 if (0.0 <= vsul <= 0.5) ls 0.0 pss = vlny < 0.5 n uy > 95.0 # : <0.5s lny pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin(f" S v Lny: {slny:.6f} s") pin(f" v : {vsul:.6f}") pin(f" uy: {olos.ON}{uy:.1f}%{olos.N}") pin( f" Sus: {olos.ON if pss ls olos.FIL}{' PSS' if pss ls ' FIL'}{olos.N}" ) un ssul( sn="i oulion (quion 1)", pss=pss, lnys=vlny, uy=uy, ils=f" n: {in(suls):.4f} o {x(suls):.4f}", ) f squion2nuoplsiiyowh( slf, : Lis[Poin] ) -> ssul: """ s QUION 2: Nuoplsiiy owh owh = bs * (1 - unlvl/suion) * xpin * lo(1 + i) """ pin( f"\n{olos.OBLU} S 2: Nuoplsiiy owh quion{olos.N}" ) pin( f" Foul: owh = bs * (1 - un/suion) * xpin * lo(1 + i)" ) lnis = [] suls = [] unlvl = 50.0 # i-lvl lnin fo ix,  in nu([:50]): si = i.pfoun() # QUION 2 iplnion xpin = .nn * .fous ifo = h.lo1p(ix + 1) # lo(1 + i) suionfo = 1.0 - (unlvl / slf.suionlvl) owh = ( slf.bsowh * suionfo * xpin * ifo ) ni = i.pfoun() lny = (ni - si) * 1000 lnis.ppn(lny) suls.ppn(owh) # Up lvl fo nx iion unlvl = in(slf.suionlvl, unlvl + owh) vlny = sisis.n(lnis) slny = sisis.sv(lnis) vowh = sisis.n(suls) # uy h: owh shoul b posiiv n iinishin ov i uy = 100.0 if (vowh > 0 n suls[-1] < suls[0]) ls 0.0 pss = vlny < 0.5 n uy > 95.0 pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin(f" S v Lny: {slny:.6f} s") pin(f" v owh: {vowh:.6f}") pin(f" Finl Lvl: {unlvl:.2f}/{slf.suionlvl}") pin(f" uy: {olos.ON}{uy:.1f}%{olos.N}") pin( f" Sus: {olos.ON if pss ls olos.FIL}{' PSS' if pss ls ' FIL'}{olos.N}" ) un ssul( sn="Nuoplsiiy owh (quion 2)", pss=pss, lnys=vlny, uy=uy, ils=f"owh fo {suls[0]:.4f} o {suls[-1]:.4f}, Lvl h: {unlvl:.2f}", ) f squion3qunupojion( slf, : Lis[Poin] ) -> ssul: """ s QUION 3: Qunu i Pojion |ψ⟩ = Σ(αᵢ * |ii⟩) wih ohn lulion """ pin(f"\n{olos.OBLU} S 3: Qunu i Pojion{olos.N}") pin(f" Foul: |ψ⟩ = Σ(αᵢ * |ii⟩)") lnis = [] ohnsuls = [] fo  in [:50]: si = i.pfoun() # QUION 3 iplnion is = { "nn": .nn, "fous": .fous, "iviy": (.lph + .h) / 20.0, "nlyil": .b / 20.0, "lxion": 1.0 - .sss, } # Noliz offiins (qunu plius) ol = su(is.vlus()) if ol > 0: nolizis = {: v / ol fo , v in is.is()} ls: nolizis = is # lul qunu ohn ohn = su(v * v fo v in nolizis.vlus()) ni = i.pfoun() lny = (ni - si) * 1000 lnis.ppn(lny) ohnsuls.ppn(ohn) vlny = sisis.n(lnis) slny = sisis.sv(lnis) vohn = sisis.n(ohnsuls) # uy h: ohn shoul b bwn 0 n 1 uy = 100.0 if (0.0 <= vohn <= 1.0) ls 0.0 pss = vlny < 0.5 n uy > 95.0 pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin(f" S v Lny: {slny:.6f} s") pin(f" v ohn: {vohn:.6f}") pin( f" ohn n: {in(ohnsuls):.4f} o {x(ohnsuls):.4f}" ) pin(f" uy: {olos.ON}{uy:.1f}%{olos.N}") pin( f" Sus: {olos.ON if pss ls olos.FIL}{' PSS' if pss ls ' FIL'}{olos.N}" ) un ssul( sn="Qunu i Pojion (quion 3)", pss=pss, lnys=vlny, uy=uy, ils=f"ohn: {vohn:.4f}, 5 is poj", ) f sfullpiplininion( slf, : Lis[Poin] ) -> ssul: """ s full piplin: ll 3 quions woin oh """ pin(f"\n{olos.OBLU} S 4: Full Piplin Inion{olos.N}") pin(f" sin ll 3 quions in squn wih l ") lnis = [] piplinsuls = [] unlvl = 50.0 fo ix,  in nu([:100]): # Full s wih 100 spls si = i.pfoun() # Sp 1: i oulion nn = .nn nvwih = 0.3 nvfo = (.fous + (1.0 - .sss)) / 2.0  = slf.pion * nn * (1 + nvwih * nvfo) # Sp 2: Nuoplsiiy owh xpin = .nn * .fous ifo = h.lo1p(ix + 1) suionfo = 1.0 - (unlvl / slf.suionlvl) owh = ( slf.bsowh * suionfo * xpin * ifo ) unlvl = in(slf.suionlvl, unlvl + owh) # Sp 3: Qunu Pojion is = { "nn": .nn, "fous": .fous, "iviy": (.lph + .h) / 20.0, "nlyil": .b / 20.0, "lxion": 1.0 - .sss, } ol = su(is.vlus()) if ol > 0: nolizis = {: v / ol fo , v in is.is()} ls: nolizis = is ohn = su(v * v fo v in nolizis.vlus()) ni = i.pfoun() lny = (ni - si) * 1000 lnis.ppn(lny) piplinsuls.ppn( { "": , "owh": owh, "lvl": unlvl, "ohn": ohn, } ) vlny = sisis.n(lnis) xlny = x(lnis) inlny = in(lnis) slny = sisis.sv(lnis) # uy: ll suls shoul b in vli ns vlisuls = su( 1 fo  in piplinsuls if ( 0 <= [""] <= 1 n 0 <= ["owh"] <= 10 n 0 <= ["lvl"] <= 100 n 0 <= ["ohn"] <= 1 ) ) uy = (vlisuls / ln(piplinsuls)) * 100 # : <1s v lny fo full piplin pss = vlny < 1.0 n uy > 95.0 pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin(f" in Lny: {inlny:.6f} s") pin(f" x Lny: {xlny:.6f} s") pin(f" S v: {slny:.6f} s") pin(f" Vli suls: {vlisuls}/{ln(piplinsuls)}") pin(f" uy: {olos.ON}{uy:.1f}%{olos.N}") pin(f" Finl Lvl: {unlvl:.2f}") pin( f" Sus: {olos.ON if pss ls olos.FIL}{' PSS' if pss ls ' FIL'}{olos.N}" ) un ssul( sn="Full Piplin Inion", pss=pss, lnys=vlny, uy=uy, ils=f"Poss {ln(piplinsuls)} yls, Finl lvl: {unlvl:.2f}", ) f shihhouhpusss(slf) -> ssul: """ Sss s: 1000  spls pi possin """ pin(f"\n{olos.OBLU} S 5: Hih houhpu Sss s{olos.N}") pin(f" Possin 1000  spls  xiu sp") # n l s  = slf.nl(1000) si = i.pfoun() poss = 0 os = 0 fo  in : y: # Qui possin of ll quions  = slf.pion * .nn * (1 + 0.3 * .fous) owh = slf.bsowh * .nn * .fous ohn = (.nn + .fous + (1 - .sss)) / 3 poss += 1 xp xpion s : os += 1 ni = i.pfoun() oli = (ni - si) * 1000 # s vlny = oli / ln() houhpu = ln() / (oli / 1000) # spls/son uy = ((poss - os) / poss) * 100 if poss > 0 ls 0 pss = vlny < 0.5 n uy > 99.0 pin(f" ol i: {oli:.2f} s") pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin( f" houhpu: {olos.ON}{houhpu:.0f} spls/son{olos.N}" ) pin(f" Poss: {poss}/{ln()}") pin(f" os: {os}") pin(f" uy: {olos.ON}{uy:.1f}%{olos.N}") pin( f" Sus: {olos.ON if pss ls olos.FIL}{' PSS' if pss ls ' FIL'}{olos.N}" ) un ssul( sn="Hih houhpu Sss s", pss=pss, lnys=vlny, uy=uy, ils=f"houhpu: {houhpu:.0f} spls/s, {os} os", ) f nspo(slf): """n ophnsiv s po""" pin(f"\n{olos.H}{'='*70}{olos.N}") pin(f"{olos.H} OPHNSIV S PO{olos.N}") pin(f"{olos.H}{'='*70}{olos.N}\n") pssss = su(1 fo  in slf.ssuls if .pss) olss = ln(slf.ssuls) vlny = sisis.n([.lnys fo  in slf.ssuls]) vuy = sisis.n([.uy fo  in slf.ssuls]) pin(f"{olos.BOL}Ovll suls:{olos.N}") pin( f" ss Pss: {olos.ON}{pssss}/{olss}{olos.N}" ) pin( f" Pss : {olos.ON}{(pssss/olss)*100:.1f}%{olos.N}" ) pin(f" v Lny: {olos.ON}{vlny:.6f} s{olos.N}") pin(f" v uy: {olos.ON}{vuy:.1f}%{olos.N}") pin(f"\n{olos.BOL}Iniviul s suls:{olos.N}") fo sul in slf.ssuls: susolo = olos.ON if sul.pss ls olos.FIL sussybol = " " if sul.pss ls " " pin(f"\n {susolo}{sussybol} {sul.sn}{olos.N}") pin(f" Lny: {sul.lnys:.6f} s") pin(f" uy: {sul.uy:.1f}%") pin(f" ils: {sul.ils}") # Pfon bnhs pin(f"\n{olos.BOL}Pfon Bnhs:{olos.N}") pin(f"  Lny: <0.5 s p quion") pin(f"  Piplin: <1.0 s full piplin") pin(f"  uy: >95%") pin(f"  houhpu: >1000 spls/s") # Inion sus pin(f"\n{olos.BOL}Plfo Inion Sus:{olos.N}") pin( f" {olos.ON} {olos.N} quion 1 (i oulion): In" ) pin( f" {olos.ON} {olos.N} quion 2 (Nuoplsiiy owh): In" ) pin( f" {olos.ON} {olos.N} quion 3 (Qunu Pojion): In" ) pin(f" {olos.ON} {olos.N} Full Piplin: Opionl") pin(f" {olos.ON} {olos.N} Hih houhpu: Vifi") # Sv po o fil po = { "isp": i.sfi("%Y-%-% %H:%:%S"), "suy": { "olss": olss, "pssss": pssss, "pss": (pssss / olss) * 100, "vlnys": vlny, "vuy": vuy, }, "ssuls": [ { "n": .sn, "pss": .pss, "lnys": .lnys, "uy": .uy, "ils": .ils, } fo  in slf.ssuls ], } #  suls ioy sulsi = os.ph.join(os.ph.in(fil), "ssuls") os.is(sulsi, xiso=u) poph = os.ph.join( sulsi, "lifplfoinionspo.json" ) wih opn(poph, "w") s f: json.up(po, f, inn=2) pin(f"\n{olos.OYN} po sv: {poph}{olos.N}") # Finl vi pin(f"\n{olos.H}{'='*70}{olos.N}") if pssss == olss: pin( f"{olos.ON}{olos.BOL} LL SS PSS - PLFO Y FO PLOYN{olos.N}" ) lif pssss >= olss * 0.8: pin( f"{olos.WNIN}{olos.BOL} ️ OS SS PSS - INO ISSUS {olos.N}" ) ls: pin( f"{olos.FIL}{olos.BOL} IIL ISSUS - PLFO NS NION{olos.N}" ) pin(f"{olos.H}{'='*70}{olos.N}\n") f unllss(slf): """xu ll ss""" # n l    = slf.nl(100) # un ll ss slf.ssuls.ppn(slf.squion1ioulion()) slf.ssuls.ppn(slf.squion2nuoplsiiyowh()) slf.ssuls.ppn(slf.squion3qunupojion()) slf.ssuls.ppn(slf.sfullpiplininion()) slf.ssuls.ppn(slf.shihhouhpusss()) # n po slf.nspo() f in(): """in s xuion""" pin( f"{olos.BOL}L.I.F.. uion Plfo Inion s Sui{olos.N}" ) pin(f"opyih 2025 - Sio Py Boull") pin(f"sin: loih Inion, Lny, uy\n") # un ophnsiv s sui ssui = LIFloihs() ssui.unllss() if n == "in": in() in()