{ "definition": { "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#", "contentVersion": "1.0.1.0", "parameters": { "nodeJSVersion": { "defaultValue": "18.17.0", "type": "string" }, "functionsCoreToolsVersion": { "defaultValue": "4.3.0", "type": "string" } }, "triggers": { "Recurrence": { "recurrence": { "frequency": "Day", "interval": 1, "startTime": "2025-10-27T00:01:00Z", "timeZone": "UTC" }, "type": "Recurrence" } }, "actions": { "Initialize_NodeJS_Version": { "type": "InitializeVariable", "inputs": { "variables": [ { "name": "nodeVersion", "type": "string", "value": "@parameters('nodeJSVersion')" } ] } }, "HTTP_Trigger_LIFE_Platform": { "type": "Http", "inputs": { "method": "GET", "uri": "https://SergiLIFE.github.io/SergiLIFE-life-azure-system/", "headers": { "User-Agent": "L.I.F.E-Platform-Logic-App/1.0.1", "Accept": "application/json, text/html", "Cache-Control": "no-cache" } }, "runAfter": { "Initialize_NodeJS_Version": [ "Succeeded" ] } }, "Validate_Platform_Response": { "type": "Condition", "expression": { "and": [ { "equals": [ "@outputs('HTTP_Trigger_LIFE_Platform')['statusCode']", 200 ] } ] }, "actions": { "Log_Success": { "type": "Compose", "inputs": { "triggerType": "scheduled", "timestamp": "@{utcnow()}", "platform_url": "https://SergiLIFE.github.io/SergiLIFE-life-azure-system/", "status": "SUCCESS - Platform accessible", "nodeVersion": "@variables('nodeVersion')", "statusCode": "@outputs('HTTP_Trigger_LIFE_Platform')['statusCode']", "marketplace_id": "9a600d96-fe1e-420b-902a-a0c42c561adb", "production_ready": true } } }, "else": { "actions": { "Log_Error": { "type": "Compose", "inputs": { "triggerType": "scheduled", "timestamp": "@{utcnow()}", "platform_url": "https://SergiLIFE.github.io/SergiLIFE-life-azure-system/", "status": "ERROR - Platform not accessible", "statusCode": "@outputs('HTTP_Trigger_LIFE_Platform')['statusCode']", "error_details": "@outputs('HTTP_Trigger_LIFE_Platform')", "fallback_action": "Check backup URL or Azure Functions" } } } }, "runAfter": { "HTTP_Trigger_LIFE_Platform": [ "Succeeded", "Failed" ] } } }, "outputs": { "platform_status": { "type": "object", "value": { "last_check": "@{utcnow()}", "node_version": "@variables('nodeVersion')", "platform_operational": "@equals(outputs('HTTP_Trigger_LIFE_Platform')['statusCode'], 200)" } } } }, "parameters": { "nodeJSVersion": { "value": "18.17.0" }, "functionsCoreToolsVersion": { "value": "4.3.0" } } }