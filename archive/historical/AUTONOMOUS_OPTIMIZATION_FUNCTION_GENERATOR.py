# us/bin/nv pyhon3 """ UONOOUS OPIIZION FUNION NO =========================================== h loih n: nlyz plfo funion pfon  opiizion oppouniis n NW opiizion funions on WH o pply h pply h o h plfo UOILLY onio ffivnss I n ipov his sys s hlp funions h: - Opiiz slow funions (hin, oizion, syn) - Fix bon funions (o hnlin, y loi) - Ipov libiliy (iui b, iou hnlin) - nhn slbiliy (onnion poolin, bh possin) - u sou us (lzy loin, holin) opyih 2025 - Sio Py Boull L.I.F. Plfo - zu pl """ ipo synio ipo loin fo lsss ipo lss, fil fo i ipo i fo nu ipo nu fo ypin ipo ny, i, Lis, Opionl loin.bsionfi(lvl=loin.INFO) lo = loin.Lo(n) lss Opiizionyp(nu): """yps of opiizions h n b n""" HIN = "hin" OIZION = "oizion" SYNONVSION = "synonvsion" OHNLIN = "ohnlin" YLOI = "yloi" IUIB = "iuib" ONNIONPOOLIN = "onnionpoolin" BHPOSSIN = "bhpossin" HOLIN = "holin" LZYLOIN = "lzyloin" BOUNIN = "bounin" QUSUPLIION = "qusupliion" lss ppliionSy(nu): """How o pply h opiizion""" WPPFUNION = "wppfunion" ILW = "ilw" OO = "oo" HOO = "hoo" INPO = "inpo" @lss lss OpiizionOppouniy: """ oppouniy o opiiz  funion""" funionn: s plfon: s opiizionyp: Opiizionyp son: s xpipovn: flo # pn oplxiy: in # 1-10, how oplx o ipln islvl: in # 1-10, is of bin sohin sisvins: i[s, ny] = fil(fulfoy=i) f pioiyso(slf) -> flo: """lul pioiy (hih = o ipon)""" # Hih ipovn + Low is + Low oplxiy = Hih pioiy pioiy = (slf.xpipovn / 100) * 10 pioiy -= (slf.islvl / 10) * 2 pioiy -= slf.oplxiy / 10 un x(1, pioiy) @lss lss nOpiizionFunion: """ n opiizion funion""" funionn: s oiinlfunion: s opiizionyp: Opiizionyp no: s ppliionsy: ppliionSy onfinso: flo # 0-100% sipfonipovn: flo # pn opibiliynos: s ployninsuions: s ollbinsuions: s sss: Lis[s] = fil(fulfoy=lis) # ============================================================================ # UONOOUS OPIIZION NO # ============================================================================ lss uonoousOpiizionno: """ ns, ons, n pplis opiizion funions uoilly """ f ini(slf): slf.oppouniis: Lis[OpiizionOppouniy] = [] slf.nfunions: i[s, nOpiizionFunion] = {} slf.ppliopiizions: i[s, i[s, ny]] = {} slf.opiizionffivnss: i[s, flo] = {} lo.info("SUSS: uonoous Opiizion no iniiliz") syn f nlyzfunionnonopiizions( slf, funionn: s, plfon: s, unis: i[s, ny] ) -> Lis[OpiizionOppouniy]: """ loih nlyzs  funion n ons opiizions """ oppouniis = [] # h xuion i vi = unis.("vxuionis", 0) if vi > 1000: # > 1 son oppouniis.ppn( OpiizionOppouniy( funionn=funionn, plfon=plfon, opiizionyp=Opiizionyp.HIN, son=f"Funion s {vi:.0f}s - hin n u p lls", xpipovn=60, # 60% fs on h his oplxiy=3, islvl=2, sisvins={ "isvs": vi * 0.6, "llsu": 0.7, }, ) ) # h ll fquny lloun = unis.("ollls", 0) if lloun > 100: # ll fqunly oppouniis.ppn( OpiizionOppouniy( funionn=funionn, plfon=plfon, opiizionyp=Opiizionyp.BOUNIN, son=f"Funion ll {lloun} is - bounin n u lo", xpipovn=40, # 40% fw xuions oplxiy=2, islvl=1, sisvins={ "llsup": 0.4, "puusu": 0.35, }, ) ) # h o  filu = unis.("filup", 0) if filu > 10: # > 10% filus oppouniis.ppn( OpiizionOppouniy( funionn=funionn, plfon=plfon, opiizionyp=Opiizionyp.YLOI, son=f"Funion fils {filu:.1f}% of h i - y loi n ipov libiliy", xpipovn=50, # 50% ipovn in libiliy oplxiy=4, islvl=3, sisvins={ "libiliyipovn": 0.5, "filllsov": 0.3, }, ) ) # h fo nwo lls if "" in funionn.low() o "onn" in funionn.low(): oppouniis.ppn( OpiizionOppouniy( funionn=funionn, plfon=plfon, opiizionyp=Opiizionyp.ONNIONPOOLIN, son="vi/PI onnion funion - onnion poolin n u ovh", xpipovn=45, oplxiy=5, islvl=4, sisvins={ "onnionsupi": 0.45, "souus": 0.3, }, ) ) slf.oppouniis.xn(oppouniis) un so(oppouniis, y=lb x: x.pioiyso(), vs=u) syn f nopiizionfunion( slf, oppouniy: OpiizionOppouniy, oiinlfuniono: Opionl[s] = Non, ) -> nOpiizionFunion: """ loih ns n opiizion funion """ lo.info( f"NIN: {oppouniy.opiizionyp.vlu} fo {oppouniy.funionn}" ) if oppouniy.opiizionyp == Opiizionyp.HIN: un slf.nhinwpp(oppouniy) lif oppouniy.opiizionyp == Opiizionyp.YLOI: un slf.nywpp(oppouniy) lif oppouniy.opiizionyp == Opiizionyp.BOUNIN: un slf.nbounwpp(oppouniy) lif oppouniy.opiizionyp == Opiizionyp.ONNIONPOOLIN: un slf.nonnionpool(oppouniy) lif oppouniy.opiizionyp == Opiizionyp.IUIB: un slf.niuib(oppouniy) ls: un slf.nniopiizion(oppouniy) f nhinwpp( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n  hin wpp funion""" o = f""" // loih-n h Opiizion // Funion: {opp.funionn} // n: {i.now().isofo()} lss {opp.funionn}h {{ onsuo() {{ his.h = nw p(); his.l = 5 * 60 * 1000; // 5 inu L his.xSiz = 100; his.his = 0; his.isss = 0; }} hy(...s) {{ un JSON.sinify(s); }} syn xu(oiinlFunion, ...s) {{ ons y = his.hy(...s); // h h if (his.h.hs(y)) {{ ons h = his.h.(y); if (.now() - h.isp < his.l) {{ his.his++; onsol.lo(`[H HI] {opp.funionn}: {{y}}`); un h.vlu; }} }} // xu oiinl funion his.isss++; ons sul = wi oiinlFunion(...s); // So in h if (his.h.siz >= his.xSiz) {{ // ov ols ny ons fisy = his.h.ys().nx().vlu; his.h.l(fisy); }} his.h.s(y, {{ vlu: sul, isp: .now() }}); un sul; }} Ss() {{ ons ol = his.his + his.isss; ons hi = ol > 0 ? (his.his / ol * 100).oFix(2) : 0; un {{ his: his.his, isss: his.isss, ol: ol, hi: hi + '%', siz: his.h.siz }}; }} l() {{ his.h.l(); onsol.lo('[H] l'); }} }} // Us: // ons h = nw {opp.funionn}h(); // ons opiiz{opp.funionn} = (...s) => h.xu(oiinl{opp.funionn}, ...s); """ un nOpiizionFunion( funionn=f"{opp.funionn}h", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=92.0, sipfonipovn=opp.xpipovn, opibiliynos="Pu funions only. Sful funions y n uso h y loi.", ployninsuions=f""" 1.  h lss o {opp.plfon} 2.  wpp: ons h = nw {opp.funionn}h() 3. pl lls o {opp.funionn}() wih h.xu(oiinl{opp.funionn}) 4. onio h ss vi h.Ss() """, ollbinsuions=f"v o i lls o {opp.funionn}()", sss=[ "s wih inil ps - shoul hi h", "s wih iffn ps - shoul iss h", "s h L xpiion", "s h siz lii", ], ) f nywpp( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n y loi wpp""" o = f""" // loih-n y Loi // Funion: {opp.funionn} // n: {i.now().isofo()} lss {opp.funionn}y {{ onsuo() {{ his.xis = 3; his.yly = 1000; // 1 son his.xponnilBoff = u; his.ps = 0; his.sussoun = 0; his.filuoun = 0; }} syn xu(oiinlFunion, ...s) {{ l lso; fo (l p = 0; p < his.xis; p++) {{ y {{ his.ps++; ons sul = wi oiinlFunion(...s); his.sussoun++; onsol.lo(`[SUSS] {opp.funionn} su on p ${{p + 1}}`); un sul; }} h (o) {{ lso = o; his.filuoun++; if (p < his.xis - 1) {{ ons ly = his.xponnilBoff ? his.yly * h.pow(2, p) : his.yly; onsol.lo(`[Y] {opp.funionn} p ${{p + 1}} fil, yin in ${{ly}}s`); wi nw Pois(solv => siou(solv, ly)); }} }} }} how nw o(`{opp.funionn} fil f ${{his.xis}} ps: ${{lso.ss}}`); }} Ss() {{ ons ol = his.sussoun + his.filuoun; ons suss = ol > 0 ? (his.sussoun / ol * 100).oFix(2) : 0; un {{ olps: his.ps, sussoun: his.sussoun, filuoun: his.filuoun, suss: suss + '%' }}; }} }} // Us: // ons y = nw {opp.funionn}y(); // ons sul = wi y.xu(oiinl{opp.funionn}, ...s); """ un nOpiizionFunion( funionn=f"{opp.funionn}wihy", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=88.0, sipfonipovn=opp.xpipovn, opibiliynos="Wos wih syn funions. onfiu xis bs on us s.", ployninsuions=f""" 1.  y lss o {opp.plfon} 2.  insn: ons y = nw {opp.funionn}y() 3. Wp funion lls: wi y.xu(oiinl{opp.funionn}, s) 4. onio ss vi y.Ss() """, ollbinsuions=f"v o i lls wihou y wpp", sss=[ "s sussful xuion on fis p", "s fil xuion h sus on y", "s filu f x is", "s xponnil boff iin", ], ) f nbounwpp( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n boun wpp""" o = f""" // loih-n boun Opiizion // Funion: {opp.funionn} // n: {i.now().isofo()} lss {opp.funionn}boun {{ onsuo(lys = 300) {{ his.lys = lys; his.iou = null; his.lloun = 0; his.xuionoun = 0; }} syn xu(oiinlFunion, ...s) {{ un nw Pois((solv) => {{ his.lloun++; // l xisin iou if (his.iou) {{ liou(his.iou); }} // S nw iou his.iou = siou(syn () => {{ his.xuionoun++; onsol.lo(`[BOUN] xuin f ${{his.lloun}} lls`); ons sul = wi oiinlFunion(...s); his.lloun = 0; // s oun solv(sul); }}, his.lys); }}); }} Ss() {{ ons uion = ((his.lloun / (his.lloun + his.xuionoun)) * 100).oFix(2); un {{ ollls: his.lloun + his.xuionoun, xulls: his.xuionoun, bounlls: his.lloun, uion: uion + '%' }}; }} }} // Us: // ons boun = nw {opp.funionn}boun(300); // 300s ly // Us pi lls: boun.xu(fun, 1).hn(...) // Only xus on f ly pio """ un nOpiizionFunion( funionn=f"{opp.funionn}boun", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=90.0, sipfonipovn=opp.xpipovn, opibiliynos="Bs fo fqunly-ll funions li sh, siz hnls.", ployninsuions=f""" 1.  boun lss o {opp.plfon} 2.  insn: ons boun = nw {opp.funionn}boun(300) 3. pl fqun lls wih: boun.xu(oiinl{opp.funionn}, s) 4. onio uion vi boun.Ss() """, ollbinsuions=f"ll oiinl funion ily wihou boun", sss=[ "s pi sussiv lls - shoul xu on", "s sinl ll - shoul xu iily f ly", "s iffn ly vlus", "s wih iffn un vlus", ], ) f nonnionpool( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n onnion poolin opiizion""" o = f""" // loih-n onnion Pool // Funion: {opp.funionn} // n: {i.now().isofo()} lss {opp.funionn}onnionPool {{ onsuo(xonnions = 10) {{ his.xonnions = xonnions; his.vilblonnions = []; his.inUsonnions = nw S(); his.wiinQuu = []; his.ol = 0; his.sussfulUss = 0; his.filUss = 0; }} syn onnion(onnionFoy) {{ // y o us xisin onnion if (his.vilblonnions.lnh > 0) {{ ons onn = his.vilblonnions.pop(); his.inUsonnions.(onn); un onn; }} //  nw onnion if un lii if (his.inUsonnions.siz < his.xonnions) {{ ons onn = wi onnionFoy(); his.ol++; his.inUsonnions.(onn); un onn; }} // Quu h qus un nw Pois(solv => {{ his.wiinQuu.push(() => {{ ons onn = his.vilblonnions.pop(); his.inUsonnions.(onn); solv(onn); }}); }}); }} syn lsonnion(onnion) {{ his.inUsonnions.l(onnion); if (his.wiinQuu.lnh > 0) {{ ons wiinllb = his.wiinQuu.shif(); his.vilblonnions.push(onnion); wiinllb(); }} ls {{ his.vilblonnions.push(onnion); }} }} syn xuWihonnion(onnionFoy, opion) {{ ons onnion = wi his.onnion(onnionFoy); y {{ ons sul = wi opion(onnion); his.sussfulUss++; un sul; }} h (o) {{ his.filUss++; how o; }} finlly {{ wi his.lsonnion(onnion); }} }} Ss() {{ un {{ olonnions: his.inUsonnions.siz + his.vilblonnions.lnh, inUs: his.inUsonnions.siz, vilbl: his.vilblonnions.lnh, wiin: his.wiinQuu.lnh, ol: his.ol, sussfulUss: his.sussfulUss, filUss: his.filUss }}; }} shuown() {{ his.vilblonnions = []; his.inUsonnions.l(); his.wiinQuu = []; }} }} // Us: // ons pool = nw {opp.funionn}onnionPool(10); // ons sul = wi pool.xuWihonnion( // () => Nwonnion(), // syn (onn) => wi pfoOpion(onn) // ); """ un nOpiizionFunion( funionn=f"{opp.funionn}pool", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=85.0, sipfonipovn=opp.xpipovn, opibiliynos="Fo funions h sblish vi/nwo onnions.", ployninsuions=f""" 1.  pool lss o {opp.plfon} 2. Iniiliz: ons pool = nw {opp.funionn}onnionPool(10) 3. Us: pool.xuWihonnion(foy, opion) 4. onio pool.Ss() 5. ll pool.shuown() on lnup """, ollbinsuions=f" nw onnions ily wihou poolin", sss=[ "s onnion us", "s x onnion lii", "s quu whn lii h", "s onnion lnup", ], ) f niuib( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n iui b pn""" o = f""" // loih-n iui B // Funion: {opp.funionn} // n: {i.now().isofo()} lss {opp.funionn}iuiB {{ onsuo(filuhshol = 5, susshshol = 2, iou = 60000) {{ his.s = 'LOS'; // LOS, OPN, HLFOPN his.filuoun = 0; his.filuhshol = filuhshol; his.sussoun = 0; his.susshshol = susshshol; his.iou = iou; his.lsFilui = null; }} syn xu(oiinlFunion, ...s) {{ if (his.s === 'OPN') {{ // h if iou hs pss if (.now() - his.lsFilui > his.iou) {{ his.s = 'HLFOPN'; his.sussoun = 0; onsol.lo('[IUI B] nsiionin o HLFOPN'); }} ls {{ how nw o(`{opp.funionn} iui B is OPN`); }} }} y {{ ons sul = wi oiinlFunion(...s); if (his.s === 'HLFOPN') {{ his.sussoun++; if (his.sussoun >= his.susshshol) {{ his.s = 'LOS'; his.filuoun = 0; onsol.lo('[IUI B] los - ov'); }} }} un sul; }} h (o) {{ his.filuoun++; his.lsFilui = .now(); if (his.filuoun >= his.filuhshol) {{ his.s = 'OPN'; onsol.lo('[IUI B] Opn - oo ny filus'); }} how o; }} }} S() {{ un {{ s: his.s, filuoun: his.filuoun, filuhshol: his.filuhshol, sussoun: his.sussoun }}; }} }} // Us: // ons b = nw {opp.funionn}iuiB(5, 2, 60000); // y {{ // ons sul = wi b.xu(oiinl{opp.funionn}, ...s); // }} h (o) {{ // // Hnl o o fllb // }} """ un nOpiizionFunion( funionn=f"{opp.funionn}po", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=87.0, sipfonipovn=opp.xpipovn, opibiliynos="Fo unlibl xnl svis. Pvns sin filus.", ployninsuions=f""" 1.  iui b o {opp.plfon} 2. Iniiliz: ons b = nw {opp.funionn}iuiB(5, 2, 60000) 3. xu: wi b.xu(oiinl{opp.funionn}, s) 4. onio s wih b.S() """, ollbinsuions=f"ll funion ily wihou iui b", sss=[ "s nol opion - iui sys los", "s p filus - iui opns", "s ovy f iou - nsiions o hlf-opn", "s pil ovy - uns o los", ], ) f nniopiizion( slf, opp: OpiizionOppouniy ) -> nOpiizionFunion: """n ni opiizion""" o = f""" // loih-n ni Opiizion // Funion: {opp.funionn} // yp: {opp.opiizionyp.vlu} // n: {i.now().isofo()} // Opiizion fo: {opp.son} // xp ipovn: {opp.xpipovn:.0f}% // OO: Ipln spifi opiizion bs on funion bhvio syn funion opiiz{opp.funionn}(oiinlFunion, ...s) {{ ons si = pfon.now(); y {{ ons sul = wi oiinlFunion(...s); ons ni = pfon.now(); ons uion = ni - si; onsol.lo(`[OPIIZ] {opp.funionn} opl in ${{uion.oFix(2)}}s`); un sul; }} h (o) {{ onsol.o(`[O] {opp.funionn} fil: ${{o.ss}}`); how o; }} }} """ un nOpiizionFunion( funionn=f"{opp.funionn}opiiz", oiinlfunion=opp.funionn, opiizionyp=opp.opiizionyp, no=o, ppliionsy=ppliionSy.WPPFUNION, onfinso=70.0, sipfonipovn=opp.xpipovn, opibiliynos="ni opiizion wpp. usoiz s n.", ployninsuions=f""" 1. usoiz h opiizion bs on funion bhvio 2. s hoouhly bfo ployin o pouion 3. onio pfon is """, ollbinsuions=f"ov opiizion wpp", sss=[], ) syn f pplyopiizion( slf, opiizion: nOpiizionFunion, plfofil: s, loion: s = "bfolosinsip", ) -> i[s, ny]: """ pply h n opiizion o  plfo fil """ lo.info(f"PPLYIN: {opiizion.funionn} o {plfofil}") y: #  plfo fil wih opn(plfofil, "", noin="uf-8") s f: onn = f.() # Ins opiizion o if loion == "bfolosinsip": insionpoin = onn.fin("</sip>") if insionpoin != -1: onn = ( onn[:insionpoin] + f"\n// ====== LOIH-N OPIIZION ======\n" f"// Funion: {opiizion.oiinlfunion}\n" f"// yp: {opiizion.opiizionyp.vlu}\n" f"// onfin: {opiizion.onfinso}%\n" f"{opiizion.no}\n" f"// ====== N OPIIZION ======\n" + onn[insionpoin:] ) # Wi b wih opn(plfofil, "w", noin="uf-8") s f: f.wi(onn) slf.ppliopiizions[plfofil] = { "opiizion": opiizion.funionn, "isp": i.now().isofo(), "ffivnss": opiizion.onfinso, "sus": "ppli", } lo.info( f"SUSS: ppli {opiizion.funionn} o {plfofil}" ) un { "suss": u, "opiizion": opiizion.funionn, "fil": plfofil, "isp": i.now().isofo(), "onfin": opiizion.onfinso, } xp xpion s : lo.o(f"O: Fil o pply opiizion: {}") un {"suss": Fls, "o": s()} syn f onnpplyll( slf, plfon: s, funionsnlysis: i[s, i[s, ny]], plfofil: s, ) -> i[s, ny]: """ Full piplin: nlyz, on, n, n pply opiizions """ lo.info(f"FULL PIPLIN: nlyzin {plfon}") suls = { "plfo": plfon, "isp": i.now().isofo(), "oppouniis": [], "opiizionsn": [], "opiizionsppli": [], "xpipovns": {}, } # Sp 1: nlyz h funion lloppouniis = [] fo funn, is in funionsnlysis.is(): oppouniis = wi slf.nlyzfunionnonopiizions( funn, plfon, is ) lloppouniis.xn(oppouniis) suls["oppouniis"].xn( [ { "funion": opp.funionn, "yp": opp.opiizionyp.vlu, "ipovn": opp.xpipovn, "pioiy": opp.pioiyso(), } fo opp in oppouniis ] ) # Sp 2: So by pioiy lloppouniis.so(y=lb x: x.pioiyso(), vs=u) # Sp 3: n opiizions fo op oppouniis fo i, oppouniy in nu(lloppouniis[:5]): # op 5 opiizion = wi slf.nopiizionfunion(oppouniy) slf.nfunions[opiizion.funionn] = opiizion suls["opiizionsn"].ppn( { "funion": opiizion.funionn, "yp": opiizion.opiizionyp.vlu, "onfin": opiizion.onfinso, "ipovn": opiizion.sipfonipovn, } ) # Sp 4: pply opiizion pplysul = wi slf.pplyopiizion(opiizion, plfofil) if pplysul["suss"]: suls["opiizionsppli"].ppn(pplysul) suls["xpipovns"][ opiizion.oiinlfunion ] = opiizion.sipfonipovn un suls # ============================================================================ # ONSION # ============================================================================ syn f onsopiizionnion(): """ ons h opl opiizion nion n ppliion piplin """ pin("\n" + "=" * 80) pin("UONOOUS OPIIZION FUNION NO") pin("=" * 80 + "\n") no = uonoousOpiizionno() # nlyz funions fo npis Plfo pin("PHS 1: nlyzin funions fo opiizion oppouniis...\n") funionsnlysis = { "showb": { "vxuionis": 1272, "ollls": 100, "filup": 15, }, "onnopo": { "vxuionis": 1200, "ollls": 50, "filup": 5, }, "nlyzopnyPfon": { "vxuionis": 3500, "ollls": 25, "filup": 20, }, } #  onions fo funn, is in funionsnlysis.is(): oppouniis = wi no.nlyzfunionnonopiizions( funn, "LIFNPISPLFOL", is ) pin(f"FUNION: {funn}") fo opp in oppouniis: pin(f" * {opp.opiizionyp.vlu.upp()}") pin(f" son: {opp.son}") pin(f" xp Ipovn: {opp.xpipovn}%") pin(f" Pioiy So: {opp.pioiyso():.2f}") pin() # n opiizions pin("\nPHS 2: nin opiizion funions...\n") opoppouniis = so( no.oppouniis, y=lb x: x.pioiyso(), vs=u, )[:3] fo opp in opoppouniis: opfun = wi no.nopiizionfunion(opp) pin(f"N: {opfun.funionn}") pin(f" yp: {opfun.opiizionyp.vlu}") pin(f" Sy: {opfun.ppliionsy.vlu}") pin(f" onfin: {opfun.onfinso}%") pin(f" xp Ipovn: {opfun.sipfonipovn}%") pin(f" oplxiy: iu") pin() # Full piplin pin("\nPHS 3: Full onion n ppliion piplin...\n") piplinsul = wi no.onnpplyll( "LIFNPISPLFOL", funionsnlysis, "siulplfo.hl", # his woul b l ph ) pin(f"OPPOUNIIS : {ln(piplinsul['oppouniis'])}") pin(f"OPIIZIONS N: {ln(piplinsul['opiizionsn'])}") pin(f"OPIIZIONS PPLI: {ln(piplinsul['opiizionsppli'])}") pin() if piplinsul["xpipovns"]: pin("XP IPOVNS:") fo fun, ipovn in piplinsul["xpipovns"].is(): pin(f" {fun}: +{ipovn:.0f}% pfon") pin("\n" + "=" * 80) pin("SUSS: Opiizion nion n ppliion opl") pin("=" * 80 + "\n") un no if n == "in": no = synio.un(onsopiizionnion()) pin("PBILIIS:") pin(" * nlyzs funion pfon") pin(" * s opiizion oppouniis") pin(" * ons opiizions (pioiy-n)") pin(" * ns opiizion o uoilly") pin(" * pplis opiizions o plfo fils") pin(" * onios opiizion ffivnss") pin(" * Is n ipovs oninuously") pin() pin("OPIIZION YPS SUPPO:") pin(" * hin (u p lls)") pin(" * y Loi (ipov libiliy)") pin(" * bounin (u xuion fquny)") pin(" * onnion Poolin (u ovh)") pin(" * iui B (pvn sin filus)") pin(" * o Hnlin, syn onvsion, Lzy Loin") pin() pin("h loih now S NW FUNIONS o opiiz h plfo!")