# üîç AZURE CLOUD SHELL DIAGNOSTIC COMMANDS
# Copy and paste these commands ONE BY ONE into Azure Cloud Shell
# L.I.F.E. Platform Assessment - October 15, 2025 Demo

# ===================================================================
# STEP 1: Check which account you're logged in with
# ===================================================================
echo "üìä Current Account Information:"
az account show --output table

echo "üìß Account Details:"
az account show --query '{Account:user.name, SubscriptionId:id, SubscriptionName:name, TenantId:tenantId}' --output table

# ===================================================================  
# STEP 2: List all subscriptions you have access to
# ===================================================================
echo "üìã All Available Subscriptions:"
az account list --query '[].{Name:name, SubscriptionId:id, TenantId:tenantId, State:state, UserName:user.name}' --output table

# ===================================================================
# STEP 3: Check if you have access to L.I.F.E. Platform subscription
# ===================================================================
echo "üéØ Looking for L.I.F.E. Platform Subscription:"
echo "Target: 5c88cef6-f243-497d-98af-6c6086d575ca"
az account list --query "[?id=='5c88cef6-f243-497d-98af-6c6086d575ca'].{Found:'‚úÖ FOUND', Name:name, State:state}" --output table

# ===================================================================
# STEP 4: Check current subscription's resource groups  
# ===================================================================
echo "üèóÔ∏è Resource Groups in Current Subscription:"
az group list --query '[].{Name:name, Location:location, State:properties.provisioningState}' --output table

# ===================================================================
# STEP 5: Look for L.I.F.E. Platform specific resources
# ===================================================================
echo "üîç Looking for L.I.F.E. Platform Resources:"
az resource list --query "[?contains(name, 'life')].{Name:name, Type:type, ResourceGroup:resourceGroup, Location:location}" --output table

az resource list --query "[?contains(name, 'platform')].{Name:name, Type:type, ResourceGroup:resourceGroup, Location:location}" --output table

# ===================================================================
# STEP 6: Check for Function Apps and Web Apps
# ===================================================================
echo "üöÄ Azure Functions and Web Apps:"
az functionapp list --query '[].{Name:name, ResourceGroup:resourceGroup, Location:location, State:state}' --output table

az webapp list --query '[].{Name:name, ResourceGroup:resourceGroup, Location:location, State:state}' --output table

# ===================================================================
# STEP 7: Check Storage Accounts
# ===================================================================
echo "üíæ Storage Accounts:"
az storage account list --query '[].{Name:name, ResourceGroup:resourceGroup, Location:location, Tier:sku.tier}' --output table

# ===================================================================
# STEP 8: Summary Assessment
# ===================================================================
echo "üìä ACCOUNT ASSESSMENT SUMMARY:"
echo "Current Subscription: $(az account show --query 'id' -o tsv)"
echo "Current User: $(az account show --query 'user.name' -o tsv)"
echo "Current Tenant: $(az account show --query 'tenantId' -o tsv)"
echo ""
echo "L.I.F.E. Platform Targets:"
echo "Target Account: sergiomiguelpaya@sergiomiguelpayaborrullmsn.onmicrosoft.com"
echo "Target Subscription: 5c88cef6-f243-497d-98af-6c6086d575ca"  
echo "Target Resource Group: life-platform-rg"
echo ""
echo "October 15 Demo: 4 days remaining"
echo "Registered Participants: 23"